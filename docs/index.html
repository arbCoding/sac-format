<!doctype html><html xmlns=http://www.w3.org/1999/xhtml lang=en-US><meta http-equiv=Content-Type content="text/xhtml;charset=utf-8"><meta http-equiv=X-UA-Compatible content="IE=11"><meta name=generator content="Doxygen 1.9.8"><meta name=viewport content="width=device-width,initial-scale=1"><title>sac-format: sac-format</title>
<link href=tabs.css rel=stylesheet><script src=jquery.js></script><script src=dynsections.js></script><link href=navtree.css rel=stylesheet><script src=resize.js></script><script src=navtreedata.js></script><script src=navtree.js></script><link href=search/search.css rel=stylesheet><script src=search/searchdata.js></script><script src=search/search.js></script><link href=doxygen.css rel=stylesheet><link href=doxygen-awesome.css rel=stylesheet><div id=top><div id=titlearea><table cellspacing=0 cellpadding=0><tbody><tr id=projectrow><td id=projectalign><div id=projectname>sac-format<span id=projectnumber>&#160;0.6.0</span></div><div id=projectbrief>C++20 SAC (Seismic Analysis Code) File Library</div></table></div><script>var searchBox=new SearchBox("searchBox","search/",".html")</script><script src=menudata.js></script><script src=menu.js></script><script>$(function(){initMenu("",!0,!1,"search.php","Search"),$(document).ready(function(){init_search()})})</script><div id=main-nav></div></div><div id=side-nav class="ui-resizable side-nav-resizable"><div id=nav-tree><div id=nav-tree-contents><div id=nav-sync class=sync></div></div></div><div id=splitbar style=-moz-user-select:none class=ui-resizable-handle></div></div><script>$(document).ready(function(){initNavTree("index.html",""),initResizable()})</script><div id=doc-content><div id=MSearchSelectWindow onmouseover="return searchBox.OnSearchSelectShow()" onmouseout="return searchBox.OnSearchSelectHide()" onkeydown="return searchBox.OnSearchSelectKey(event)"></div><div id=MSearchResultsWindow><div id=MSearchResults><div class=SRPage><div id=SRIndex><div id=SRResults></div><div class=SRStatus id=Loading>Loading...</div><div class=SRStatus id=Searching>Searching...</div><div class=SRStatus id=NoMatches>No Matches</div></div></div></div></div><div><div class=header><div class=headertitle><div class=title>sac-format</div></div></div><div class=contents><div class=textblock><p>sac-format is a single-header statically linked library designed to make working with binary <a href=https://ds.iris.edu/files/sac-manual/manual/file_format.html>SAC</a>-files as easy as possible. Written in C++20, it follows a modern and easy to read programming-style while providing the high performance brought by C++.<p>sac-format&rsquo;s developed on <a href=https://github.com/arbCoding/sac-format>GitHub</a>!<p>Download <a href=https://github.com/arbCoding/sac-format/releases>sac-format</a> from the GitHub release page.<p><a href=https://arbcoding.github.io/sac-format/pdf/sac-format_manual.pdf>Download</a> an offline version of the documentation (PDF).<p>Get <a href=https://github.com/arbCoding/sac-format/discussions/>help</a> from the community forum.<h1><a class=anchor id=autotoc_md1></a>Why sac-format</h1><p>sac-format is Free and Open Source Software (FOSS) released under the MIT license. Anyone can use it, for any purpose (including proprietary software), anywhere in the world. sac-format is operating system agnostic and confirmed working on Windows, macOS, and Linux systems.<h2><a class=anchor id=autotoc_md2></a>Safe</h2><p>sac-format is <b>safe</b> it conforms to a strict set of C++ programming guidelines, chosen to ensure safe code-execution. The guideline conformance list is in <a href=https://github.com/arbCoding/sac-format/blob/main/.github/workflows/cpp-linter.yml><code>cpp-linter.yml</code></a> and can be cross-referenced against this <a href=https://clang.llvm.org/extra/clang-tidy/checks/list.html>master list</a>. Results of conformance checking are <a href=https://github.com/arbCoding/sac-format/actions/workflows/cpp-linter.yml>here</a>.<p>Testing is an important part of software development; the sac-format library is extensively tested using the <a href=https://github.com/catchorg/Catch2>Catch2</a> testing framework. Everything from low-level binary conversions to high-level <code>Trace</code> reading/writing are tested and confirmed working. Check and run the tests yourself. See the <a class=el href=index.html#Testing>Testing</a> section for more information.<h2><a class=anchor id=autotoc_md3></a>Fast</h2><p>sac-format is <b>fast</b> it's written in C++, carefully optimized, and extensively benchmarked. You can run the benchmarks yourself to find out how sac-format performs on your system. See the Benchmarking section for more information.<h2><a class=anchor id=autotoc_md4></a>Easy</h2><p>sac-format is <b>easy</b> single-header makes integration in any project simple. Installation is easy with our automatic installers. Building is a breeze with <a href=https://cmake.org/>CMake</a>, even on different platforms. Object-oriented design makes use easy and intuitive. See the Quickstart section to get up and running.<h2><a class=anchor id=autotoc_md5></a>Small</h2><p>sac-format is <b>small</b> in total (header + implementation; excluding comments) the library is under 2100&#8727; lines of code. Small size opens the door to using on any sort of hardware (old or new) and makes it easy to expand upon.<p>&#8727; This value includes only the library, excluding all testing/benchmarking and example codes. Including <code>utests.cpp</code>, <code>benchmark.cpp</code>, <code>util.hpp</code>, the example program (<code>list_sac</code>), and sac-format totals just over 5100 lines of code.<h2><a class=anchor id=autotoc_md6></a>Documented</h2><p>sac-format is extensively <b>documented</b> both online and in the code. Nothing's hidden, nothing's obscured. Curious how something works? Check the documentation and in-code comments.<h2><a class=anchor id=autotoc_md7></a>Transparent</h2><p>sac-format is <b>transparent</b> all analysis and coverage information is publicly available online.<ul><li><a href=https://www.codefactor.io/repository/github/arbcoding/sac-format>CodeFactor</a><li><a href=https://app.codacy.com/gh/arbCoding/sac-format/dashboard>Codacy</a><li><a href=https://app.codecov.io/gh/arbCoding/sac-format>CodeCov</a><li><a href=https://scan.coverity.com/projects/arbcoding-sac-format>Coverity Scan</a></ul><h2><a class=anchor id=autotoc_md8></a>Trace Class</h2><p>sac-format includes the <code>Trace</code> class for seismic traces, providing high-level object-oriented abstraction to seismic data. With the <code>Trace</code> class, you don't need to worry about manually reading SAC-files word-by-word. It's compatible with <code>v6</code> and <code>v7</code> SAC-files and can automatically detect the version upon reading. File output defaults to <code>v7</code> SAC-files and there is a <code>legacy_write</code> function for <code>v6</code> output.<h2><a class=anchor id=autotoc_md9></a>Low-Level I/O</h2><p>If you want to roll your own SAC-file processing workflow you can use the low-level I/O functionality built into sac-format. All functions tested and confirmed working they're used to build the <code>Trace</code> class!<h1><a class=anchor id=autotoc_md10></a>Quickstart</h1><h2><a class=anchor id=autotoc_md11></a>Installation</h2><p>The easiest way to use sac-format is to install it via the automatic installers. Installers for the latest release are located <a href=https://github.com/arbCoding/sac-format/releases/latest>here</a>. Be sure to check the sha512 checksum of the installer against its correspondingly named <code>.sha512</code> file to ensure the file is safe (for example: <code>sac-format.pkg</code> corresponds to <code>sac-format.pkg.sha512</code>).<h3><a class=anchor id=autotoc_md12></a>Windows</h3><p>sac-format provides a graphical installer on Windows (<code>sac-format.exe</code>).<p>Always check the sha512 checksum value of the installer (<code>sac-format.exe</code>; [more info here](<a href="https://learn.microsoft.com/en-us/powershell/module/microsoft.powershell.utility/get-filehash?view=powershell-7.4">https://learn.microsoft.com/en-us/powershell/module/microsoft.powershell.utility/get-filehash?view=powershell-7.4</a>)) against <code>sac-format.exe.sha512</code>.<p>By default, Microsoft Defender will block the installer with a pop-up like that one below:<p><img src=./screenshots/Windows/warning_1_install.png alt=img class=inline><p>To continue the install, click on the &rsquo;More Info&rsquo; link and then the &rsquo;Run anyway&rsquo; button as seen in the following image:<p><img src=./screenshots/Windows/warning_2_install.png alt=img class=inline><p>Then the installer will open and present you with the welcome screen:<p><img src=./screenshots/Windows/intro_install.png alt=img class=inline><p>By default, sac-format installs in <code>C:/Program Files/sac-format</code> as seen in the screen below:<p><img src=./screenshots/Windows/location_install.png alt=img class=inline><p>Because all programs in sac-format are command-line based feel free to disable Start Menu shortcuts:<p><img src=./screenshots/Windows/no_shortcuts_install.png alt=img class=inline><p>Upon successful install of sac-format you will see this window:<p><img src=./screenshots/Windows/successful_install.png alt=img class=inline><h3><a class=anchor id=autotoc_md13></a>macOS</h3><p>sac-format provides both command line and graphical installers on macOS.<ol type=1><li><p class=startli>Graphical<p class=startli>The graphical installer is <code>sac-format.pkg</code> and will walk you through the installation process. <b>NOTE</b>: the default installation location is <code>/opt/sac-format</code>.<p class=startli>By default, macOS will block the installer. To install, right-click on <code>sac-format.pkg</code> and select open. A warning will pop up that looks like:<p class=startli><img src=./screenshots/macOS/warning_install.png alt=img class=inline><p class=startli>Simply click &rsquo;Open&rsquo; and the installer will begin from the first screen:<p class=startli><img src=./screenshots/macOS/intro_install.png alt=img class=inline><p class=startli>Upon successfull installation you will see:<p class=startli><img src=./screenshots/macOS/successful_install.png alt=img class=inline><li><p class=startli>Command line<p class=startli>Command line installation is performed either using the self-extrating archive or by manually extracting the gzipped tar archive.<ol type=a><li><p class=startli>Self-Extracting Archive<p class=startli><code>sh @section autotoc_md14 Check the sha512 checksum sha512sum -c sac-format-&lt;version>-Darwin-&lt;arch>.sh.sha512 @section autotoc_md15 Run self-extracting archive bash sac-format-&lt;version>-Darwin-&lt;arch>.sh</code><p class=startli>Be sure to replace <code>&lt;version></code> and <code>&lt;arch></code> with the correct versions and architectures, respectively (for example: <code>sac-format-0.4.0-Darwin-x86_64.sh</code>).<li><p class=startli>Gzipped Tar Archive<p class=startli><code>bash @section autotoc_md16 Check the sha512 checksum sha512sum -c sac-format-&lt;version>-Darwin-&lt;arch>.tar.gz.sha512 @section autotoc_md17 Extract Gzipped tar archive tar -xzf sac-format-&lt;version>-Darwin-&lt;arch>.tar.gz</code></ol></ol><h3><a class=anchor id=autotoc_md18></a>Linux</h3><p>sac-format provides four different command line installation methods on Linux.<p><a href=https://www.debian.org/>Debian</a> based distributions (for example: Debian, Ubuntu, Linux Mint) can use the Debian Archive.<p><a href=https://www.redhat.com/>RedHat</a> based distributions (for example: RedHat, Fedora, CentOS) can use the RPM Archive.<p>All distributions can use the Self-Extracting Archive.<p>All distributions can use the Gzipped Tar Archive.<ol type=1><li><p class=startli>Debian Archive<p class=startli><code>bash @section autotoc_md19 Check the sha512 checksum sha512sum -c sac-format.deb.sha512 @section autotoc_md20 Install using apt sudo apt install ./sac-format.deb</code><li><p class=startli>RPM Archive<p class=startli><code>bash @section autotoc_md21 Check the sha512 checksum sha512sum -c sac-format.rpm.sha512 @section autotoc_md22 Install using rpm sudo rpm -i sac-format.rpm</code><li><p class=startli>Self-Extrating Archive<p class=startli><code>bash @section autotoc_md23 Check the sha512 checksum sha512sum -c sac-format-&lt;version>-Linux-&lt;arch>.sh.sha512 @section autotoc_md24 Run self-extrating archive bash sac-format-&lt;version>-Linux-&lt;arch>.sh</code><li><p class=startli>Gzipped Tar Archive<p class=startli><code>bash @section autotoc_md25 Check the sha512 checksum sha512sum -c sac-format-&lt;version>-Linux-&lt;arch>.tar.gz.sha512 @section autotoc_md26 Extract gzipped tar archive tar -xzf sac-format-&lt;version>-Linux-&lt;arch>.tar.gz</code></ol><h2><a class=anchor id=autotoc_md27></a>Build Instructions</h2><p>Building is as easy as cloning the repository, running CMake for your preferred build tool, and then building.<h3><a class=anchor id=autotoc_md28></a>GCC</h3><div class=fragment><div class=line>git clone https://github.com/arbCoding/sac-format.git</div><div class=line>cmake --preset gcc-hard-release</div><div class=line>cmake --build ./build/release/gcc</div></div><h3><a class=anchor id=autotoc_md29></a>Clang</h3><div class=fragment><div class=line>git clone https://github.com/arbCoding/sac-format.git</div><div class=line>cmake --preset clang-hard-release</div><div class=line>cmake --build ./build/release/clang</div></div><h2><a class=anchor id=autotoc_md30></a>Use</h2><p>To use link to the compiled library (<code>libsac-format.a</code> on Linux/macOS, <code>sac-format.lib</code> on Windows) and include <code><a class=el href=sac__format_8hpp.html title="Interface of the sac-format library.">sac_format.hpp</a></code>.<h2><a class=anchor id=autotoc_md31></a>Example Programs</h2><h3><a class=anchor id=autotoc_md32></a>&lt;tt>list_sac&lt;/tt></h3><p><code>list_sac</code> is a command line program that takes a single SAC-file as its input argument. It reads the SAC-file and outputs the header/footer information, as well as the true size of the `data1` and `data2` vectors.<h2><a class=anchor id=autotoc_md33></a>CMake Integration</h2><p>To integrate sac-format into your CMake project, add it to your <code>CMakeLists.txt</code>.<div class=fragment><div class=line>include(FetchContent)</div><div class=line>set(FETCHCONTENT_UPDATES_DISCONNECTED TRUE)</div><div class=line>FetchContent_Declare(sac-format</div><div class=line>GIT_REPOSITORY https://github.com/arbCoding/sac-format</div><div class=line>GIT_TAG vX.X.X)</div><div class=line>FetchContent_MakeAvailable(sac-format)</div><div class=line>include_directory(${sacformat_SOURCE_DIR/src})</div><div class=line></div><div class=line>project (your_project</div><div class=line>LANGUAGES CXX)</div><div class=line></div><div class=line>add_executable(your_executable</div><div class=line>your_sources</div><div class=line>sac_format.hpp)</div><div class=line></div><div class=line>target_link_libraries_library(your_executable</div><div class=line>PRIVATE sac-format)</div></div><h2><a class=anchor id=autotoc_md34></a>Example</h2><h3><a class=anchor id=autotoc_md35></a>Reading and Writing</h3><div class=fragment><div class=line><span class=preprocessor>#include &lt;<a class=code href=sac__format_8hpp.html>sac_format.hpp</a>></span></div><div class=line><span class=preprocessor>#include &lt;filesystem></span></div><div class=line><span class=preprocessor>#include &lt;iostream></span></div><div class=line></div><div class=line><span class=keyword>using namespace </span><a class="code hl_namespace" href=namespacesacfmt.html>sacfmt</a>;</div><div class=line><span class=keyword>namespace </span><a class="code hl_struct" href=structsacfmt_1_1word__pair.html>fs</a> = std::filesystem;</div><div class=line></div><div class=line><span class=keywordtype>int</span> <a class="code hl_struct" href=structsacfmt_1_1word__pair.html>main</a>() {</div><div class=line><a class="code hl_class" href=classsacfmt_1_1Trace.html>Trace</a> <a class="code hl_struct" href=structsacfmt_1_1word__pair.html>trace1</a>{};</div><div class=line><span class=comment>// Change header variable</span></div><div class=line><a class="code hl_struct" href=structsacfmt_1_1word__pair.html>trace1</a>.kstnm(<span class=stringliteral>"Station1"</span>);</div><div class=line>fs::path <a class="code hl_struct" href=structsacfmt_1_1word__pair.html>file</a>{<span class=stringliteral>"./test.SAC"</span>};</div><div class=line><span class=comment>// Write</span></div><div class=line><a class="code hl_struct" href=structsacfmt_1_1word__pair.html>trace1</a>.write(<a class="code hl_struct" href=structsacfmt_1_1word__pair.html>file</a>);</div><div class=line><span class=comment>// Read</span></div><div class=line><a class="code hl_class" href=classsacfmt_1_1Trace.html>Trace</a> <a class="code hl_struct" href=structsacfmt_1_1word__pair.html>trace2</a> = <a class="code hl_class" href=classsacfmt_1_1Trace.html>Trace</a>(<a class="code hl_struct" href=structsacfmt_1_1word__pair.html>file</a>);</div><div class=line><span class=comment>// Confirm equality</span></div><div class=line>std::cout &lt;&lt; (<a class="code hl_struct" href=structsacfmt_1_1word__pair.html>trace1</a> == <a class="code hl_struct" href=structsacfmt_1_1word__pair.html>trace2</a>) &lt;&lt; <span class=charliteral>'\n'</span>;</div><div class=line>fs::remove(<a class="code hl_struct" href=structsacfmt_1_1word__pair.html>file</a>);</div><div class=line><span class=keywordflow>return</span> <a class="code hl_struct" href=structsacfmt_1_1word__pair.html>EXIT_SUCCESS</a>;</div><div class=line>}</div><div class=ttc id=aclasssacfmt_1_1Trace_html><div class=ttname><a href=classsacfmt_1_1Trace.html>sacfmt::Trace</a></div><div class=ttdoc>The Trace class.</div><div class=ttdef><b>Definition</b> sac_format.hpp:1047</div></div><div class=ttc id=anamespacesacfmt_html><div class=ttname><a href=namespacesacfmt.html>sacfmt</a></div><div class=ttdoc>sac-format namespace</div><div class=ttdef><b>Definition</b> sac_format.hpp:52</div></div><div class=ttc id=asac__format_8hpp_html><div class=ttname><a href=sac__format_8hpp.html>sac_format.hpp</a></div><div class=ttdoc>Interface of the sac-format library.</div></div><div class=ttc id=astructsacfmt_1_1word__pair_html><div class=ttname><a href=structsacfmt_1_1word__pair.html>sacfmt::word_pair</a></div><div class=ttdoc>Struct containing a pair of words.</div><div class=ttdef><b>Definition</b> sac_format.hpp:194</div></div></div><h1><a class=anchor id=autotoc_md36></a>Documentation</h1><h2><a class=anchor id=autotoc_md37></a>Trace class</h2><p>The <code>Trace</code> class provides easy access to SAC-files in C++. Each SAC-file is a <code>Trace</code>; therefore, each <code>Trace</code> object is a seismic trace (seismogram).<h3><a class=anchor id=autotoc_md38></a>Reading SAC</h3><p>SAC-files can be read in by using the parameterized constructor with a <a href=https://en.cppreference.com/w/cpp/filesystem/path><code>std::filesystem::path</code></a> (<a href=https://en.cppreference.com/w/cpp/header/filesystem><code>&lt;filesystem></code></a>) or a <a href=https://en.cppreference.com/w/cpp/string/basic_string><code>std::string</code></a> (<a href=https://en.cppreference.com/w/cpp/header/string><code>&lt;string></code></a>) variable that corresponds to the location of the SAC-file.<p>For example:<div class=fragment><div class=line><span class=preprocessor>#include &lt;sac_foramt.hpp></span></div><div class=line><span class=preprocessor>#include &lt;filesystem></span></div><div class=line></div><div class=line><span class=keywordtype>int</span> <a class="code hl_struct" href=structsacfmt_1_1word__pair.html>main</a>() {</div><div class=line>std::filesystem::path <a class="code hl_struct" href=structsacfmt_1_1word__pair.html>my_file</a>{<span class=stringliteral>"/home/user/data/ANMO.SAC"</span>};</div><div class=line><a class="code hl_class" href=classsacfmt_1_1Trace.html>sacfmt::Trace</a> <a class="code hl_struct" href=structsacfmt_1_1word__pair.html>anmo</a> = <a class="code hl_class" href=classsacfmt_1_1Trace.html>sacfmt::Trace</a>(<a class="code hl_struct" href=structsacfmt_1_1word__pair.html>my_file</a>);</div><div class=line><span class=keywordflow>return</span> <a class="code hl_struct" href=structsacfmt_1_1word__pair.html>EXIT_SUCCESS</a>;</div><div class=line>}</div></div><h3><a class=anchor id=autotoc_md39></a>Writing SAC</h3><p>Writing SAC files can be done using one of two write functions.<ol type=1><li><p class=startli><code>v7</code> files<p class=startli>Use <code>write</code> (for example <code>trace.write(filename)</code>).<li><p class=startli><code>v6</code> files<p class=startli>Use <code>legacy_write</code> (for example <code>trace.legacy_write(filename)</code>).</ol><h3><a class=anchor id=autotoc_md40></a>Getters and Setters</h3><p>Every SAC variable is accessed via getters and setters of the same name.<ol type=1><li>Example Getters<ul><li><code>trace.npts()</code><li><code>trace.data1()</code><li><code>trace.kstnm()</code></ul><li>Example Setters<ul><li><code>trace.kevnm("Event 1")</code><li><code>trace.evla(32.89)</code><li><code>trace.mag(3.21)</code></ul><li><p class=startli>Setter rules<p class=startli>Most of the setters are only constrained by the parameter type (single-precision, double-precision, boolean, etc.). <b>Some</b> setters are constrained by additional rules.<ol type=a><li><p class=startli>Required for sanity<p class=startli>Rules here are required because the sac-format library assumes them (not strictly required by the SAC format standard). For instance, the geometric functions assume certain bounds on latitudes and longitudes. sac-format automatically imposes these rules.<ol type=i><li><p class=startli><code>stla(input)</code><p class=startli>Limited to $[-90, 90]$ degrees, input that is outside that range is reduced using circular symmetry.<li><p class=startli><code>stlo(input)</code><p class=startli>Limited to $[-180, 180]$ degrees, input that is outside that range is reduced using circular symmetry.<li><p class=startli><code>evla(input)</code><p class=startli>Limited to $[-90, 90]$ degrees, input that is outside that range is reduced using circular symmetry.<li><p class=startli><code>evlo(input)</code><p class=startli>Limited to $[-180, 180]$ degrees, input that is outside that range is reduced using circular symmetry.</ol><li><p class=startli>Required for safety<p class=startli>Rules here are required by the SAC format standard. sac-format automatically imposes these rules to prevent the creation of corrupt sac-files.<ol type=i><li><p class=startli><code>npts(input)</code><p class=startli>Because <code>npts</code> defines the size of the data vectors, changing this value will change the size of <code>data1</code> and <code>data2</code>&#8727;. Increasing npts resizes the vectors (<a href=https://en.cppreference.com/w/cpp/container/vector/resize>std::vector::resize</a>) by placing zeros at the <b>end</b> of the vectors. Reducing npts resizes the vectors down to the <b>first npts</b> values.<p class=startli>Therefore, care must be taken to maintain separate copies of <code>data1</code> and <code>data2</code>&#8727; if you plan to manipulate the original data <b>after</b> resizing.<p class=startli>&#8727; data2 has <code>npts</code> only if it is legal, otherwise it is of size 0.<li><p class=startli><code>leven(input)</code><p class=startli>Changing the value of <code>leven</code> potentially changes the legality of <code>data2</code>, it also potentially affects the value of <code>iftype</code>.<p class=startli>If iftype$>1$, then leven must be <code>true</code> (evenly sampled data). Therefore, if leven is made <code>false</code> in this scenario (unevenly sampled data) then iftype becomes unset&#8727;.<p class=startli>If changing leven makes data2 legal&#8727;&#8727;, then data2 is resized to have <code>npts</code> zeros.<p class=startli>&#8727; The SAC format defines the unset values for all data-types. For integers (like iftype) it is the integer value <code>-12345</code>.<p class=startli>&#8727;&#8727; If data2 was already legal, then it is unaffected.<li><p class=startli><code>iftype(input)</code><p class=startli>Changing the value of <code>iftype</code> poentially changes the legality of <code>data2</code>, it also potentially affects the value of <code>leven</code>.<p class=startli>If leven is <code>false</code>, then iftype must be either 1 or unset. Therefore, changing iftype to have a value $>1$ requires that leven becomes <code>true</code> (evenly sampled data).<p class=startli>If changing iftype makes data2 legal&#8727;, then data2 is resized to have <code>npts</code> zeros.<p class=startli>&#8727; If data2 was already legal, then it is unaffected.<li><p class=startli><code>data1(input)</code><p class=startli>If the size of <code>data1</code> is changed, then <code>npts</code> must change to reflect the new size. If <code>data2</code> is legal, this adjusts its size to match as well.<li><p class=startli><code>data2(input)</code><p class=startli>If the size of <code>data2</code> is changed to be larger than 0 and it is illegal, it is made legal by setting <code>iftype(2)</code> (spectral-data).<p class=startli>When the size of data2 changes, <code>npts</code> is updated to the new size and <code>data1</code> is resized to match.<p class=startli>If <code>data2</code> is made illegal, its size is reduced to 0 while <code>npts</code> and <code>data1</code> are unaffected.</ol></ol></ol><h3><a class=anchor id=autotoc_md41></a>Internal Structure</h3><p>The SAC-trace stores the data internally in a series of pre-allocated <a href=https://en.cppreference.com/w/cpp/container/array><code>std::array</code></a> (<a href=https://en.cppreference.com/w/cpp/header/array><code>&lt;array></code></a>) container objects. Getters and setters access these via a lookup table. The internal components are below:<ol type=1><li><p class=startli>Lookup Table<p class=startli><code>sac_map</code><li><code>floats</code> array<li><code>doubles</code> array<li><code>ints</code> array<li><code>bools</code> array<li><code>strings</code> array<li><code>data</code> array</ol><h3><a class=anchor id=autotoc_md42></a>Convenience Methods</h3><ul><li><code>calc_geometry</code></ul><p>Calculate <code>gcarc</code>, <code>dist</code>, <code>az</code>, and <code>baz</code> assuming spherical Earth.<div class=fragment><div class=line><a class="code hl_struct" href=structsacfmt_1_1word__pair.html>trace</a>.stla(45.3);</div><div class=line><a class="code hl_struct" href=structsacfmt_1_1word__pair.html>trace</a>.stlo(34.5);</div><div class=line><a class="code hl_struct" href=structsacfmt_1_1word__pair.html>trace</a>.evla(18.5);</div><div class=line><a class="code hl_struct" href=structsacfmt_1_1word__pair.html>trace</a>.evlo(-34);</div><div class=line><a class="code hl_struct" href=structsacfmt_1_1word__pair.html>trace</a>.calc_geometry();</div><div class=line>std::cout &lt;&lt; <span class=stringliteral>"GcArc: "</span> &lt;&lt; <a class="code hl_struct" href=structsacfmt_1_1word__pair.html>trace</a>.gcarc() &lt;&lt; <span class=charliteral>'\n'</span>;</div><div class=line>std::cout &lt;&lt; <span class=stringliteral>"Dist: "</span> &lt;&lt; <a class="code hl_struct" href=structsacfmt_1_1word__pair.html>trace</a>.dist() &lt;&lt; <span class=charliteral>'\n'</span>;</div><div class=line>std::cout &lt;&lt; <span class=stringliteral>"Azimuth: "</span> &lt;&lt; <a class="code hl_struct" href=structsacfmt_1_1word__pair.html>trace</a>.az() &lt;&lt; <span class=charliteral>'\n'</span>;</div><div class=line>std::cout &lt;&lt; <span class=stringliteral>"BAzimuth: "</span> &lt;&lt; <a class="code hl_struct" href=structsacfmt_1_1word__pair.html>trace</a>.baz() &lt;&lt; <span class=charliteral>'\n'</span>;</div></div><ul><li><code>frequency</code></ul><p>Calculate frequency from <code>delta</code>.<div class=fragment><div class=line><span class=keywordtype>double</span> frequency{<a class="code hl_struct" href=structsacfmt_1_1word__pair.html>trace</a>.frequency()};</div></div><ul><li><code>date</code></ul><p>Return <code>std::string</code> formatted as <code>YYYY-JJJ</code> from <code>nzyear</code> and <code>nzjday</code>.<div class=fragment><div class=line>std::string date{<a class="code hl_struct" href=structsacfmt_1_1word__pair.html>trace</a>.date()};</div></div><ul><li><code>time</code></ul><p>Return <code>std::string</code> formatted as <code>HH:MM:SS.xxx</code> from <code>nzhour</code>, <code>nzmin</code>, <code>nzsec</code>, and <code>nzmsec</code>.<div class=fragment><div class=line>std::string time{<a class="code hl_struct" href=structsacfmt_1_1word__pair.html>trace</a>.time()};</div></div><h3><a class=anchor id=autotoc_md43></a>Exceptions</h3><p>sac-format throws exceptions of type <code><a class=el href=classsacfmt_1_1io__error.html title="Class for generic I/O exceptions.">sacfmt::io_error</a></code> (inherits <a href=https://en.cppreference.com/w/cpp/error/exception><code>std::exception</code></a>) in the event of a failure to read/write a SAC-file.<h2><a class=anchor id=autotoc_md44></a>Convenience Functions</h2><ul><li><code>degrees_to_radians</code></ul><p>Convert decimal degrees to radians.<div class=fragment><div class=line><span class=keywordtype>double</span> <a class="code hl_struct" href=structsacfmt_1_1word__pair.html>radians</a>{<a class="code hl_function" href=namespacesacfmt.html#a00d680406a083cec842eb0700ea0dad4>sacfmt::degrees_to_radians</a>(<a class="code hl_struct" href=structsacfmt_1_1word__pair.html>degrees</a>)};</div><div class=ttc id=anamespacesacfmt_html_a00d680406a083cec842eb0700ea0dad4><div class=ttname><a href=namespacesacfmt.html#a00d680406a083cec842eb0700ea0dad4>sacfmt::degrees_to_radians</a></div><div class=ttdeci>double degrees_to_radians(double degrees) noexcept</div><div class=ttdoc>Convert decimal degrees to radians.</div><div class=ttdef><b>Definition</b> sac_format.cpp:661</div></div></div><ul><li><code>radians_to_degrees</code></ul><p>Convert radians to decimal degrees.<div class=fragment><div class=line><span class=keywordtype>double</span> <a class="code hl_struct" href=structsacfmt_1_1word__pair.html>degrees</a>{<a class="code hl_function" href=namespacesacfmt.html#a99b9d2001e973091998a61286d0fdf1b>sacfmt::radians_to_degrees</a>(<a class="code hl_struct" href=structsacfmt_1_1word__pair.html>radians</a>)};</div><div class=ttc id=anamespacesacfmt_html_a99b9d2001e973091998a61286d0fdf1b><div class=ttname><a href=namespacesacfmt.html#a99b9d2001e973091998a61286d0fdf1b>sacfmt::radians_to_degrees</a></div><div class=ttdeci>double radians_to_degrees(double radians) noexcept</div><div class=ttdoc>Convert radians to decimal degrees.</div><div class=ttdef><b>Definition</b> sac_format.cpp:675</div></div></div><ul><li><code>gcarc</code></ul><p>Calculate great-circle arc distance (spherical planet).<div class=fragment><div class=line><span class=keywordtype>double</span> gcarc{<a class="code hl_enumvalue" href=namespacesacfmt.html#aa519c4963e3863fdd55fad06655fad96a2d6e2cba500506ce3480820230f00624>sacfmt::gcarc</a>(<a class="code hl_struct" href=structsacfmt_1_1word__pair.html>latitude1</a>, <a class="code hl_struct" href=structsacfmt_1_1word__pair.html>longitude1</a>, <a class="code hl_struct" href=structsacfmt_1_1word__pair.html>latitude2</a>, <a class="code hl_struct" href=structsacfmt_1_1word__pair.html>longitude2</a>)};</div><div class=ttc id=anamespacesacfmt_html_aa519c4963e3863fdd55fad06655fad96a2d6e2cba500506ce3480820230f00624><div class=ttname><a href=namespacesacfmt.html#aa519c4963e3863fdd55fad06655fad96a2d6e2cba500506ce3480820230f00624>sacfmt::name::gcarc</a></div><div class=ttdeci>@ gcarc</div></div></div><ul><li><code>azimuth</code></ul><p>Calculate azimuth between two points (spherical planet).<div class=fragment><div class=line><span class=keywordtype>double</span> azimuth{<a class="code hl_function" href=namespacesacfmt.html#abdb7402edd555c08b782e210fb42b367>sacfmt::azimuth</a>(<a class="code hl_struct" href=structsacfmt_1_1word__pair.html>latitude2</a>, <a class="code hl_struct" href=structsacfmt_1_1word__pair.html>longitude2</a>, <a class="code hl_struct" href=structsacfmt_1_1word__pair.html>latitude1</a>, <a class="code hl_struct" href=structsacfmt_1_1word__pair.html>longitude1</a>)};</div><div class=line><span class=keywordtype>double</span> <a class="code hl_struct" href=structsacfmt_1_1word__pair.html>back_azimuth</a>{<a class="code hl_function" href=namespacesacfmt.html#abdb7402edd555c08b782e210fb42b367>sacfmt::azimuth</a>(<a class="code hl_struct" href=structsacfmt_1_1word__pair.html>latitude1</a>, <a class="code hl_struct" href=structsacfmt_1_1word__pair.html>longitude1</a>, <a class="code hl_struct" href=structsacfmt_1_1word__pair.html>latitude2</a>, <a class="code hl_struct" href=structsacfmt_1_1word__pair.html>longitude2</a>)};</div><div class=ttc id=anamespacesacfmt_html_abdb7402edd555c08b782e210fb42b367><div class=ttname><a href=namespacesacfmt.html#abdb7402edd555c08b782e210fb42b367>sacfmt::azimuth</a></div><div class=ttdeci>double azimuth(double latitude1, double longitude1, double latitude2, double longitude2) noexcept</div><div class=ttdoc>Calculate azimuth between two points.</div><div class=ttdef><b>Definition</b> sac_format.cpp:738</div></div></div><ul><li><code>limit_360</code></ul><p>Take arbitrary value of degrees and unwrap to $[0, 360]$.<div class=fragment><div class=line><span class=keywordtype>double</span> <a class="code hl_struct" href=structsacfmt_1_1word__pair.html>degrees_limited</a>{<a class="code hl_function" href=namespacesacfmt.html#a7ed2843f8d75e1179df0b235d5e39277>sacfmt::limit_360</a>(<a class="code hl_struct" href=structsacfmt_1_1word__pair.html>degrees</a>)};</div><div class=ttc id=anamespacesacfmt_html_a7ed2843f8d75e1179df0b235d5e39277><div class=ttname><a href=namespacesacfmt.html#a7ed2843f8d75e1179df0b235d5e39277>sacfmt::limit_360</a></div><div class=ttdeci>double limit_360(double degrees) noexcept</div><div class=ttdoc>Takes a decimal degree value and constrains it to full circle using symmetry.</div><div class=ttdef><b>Definition</b> sac_format.cpp:766</div></div></div><ul><li><code>limit_180</code></ul><p>Take arbitrary value of degrees and unwrap to $[-180, 180]$. Useful for longitude.<div class=fragment><div class=line><span class=keywordtype>double</span> <a class="code hl_struct" href=structsacfmt_1_1word__pair.html>degrees_limited</a>{<a class="code hl_function" href=namespacesacfmt.html#a5408a7de5eb672b341de42e6804d82e1>sacfmt::limit_180</a>(<a class="code hl_struct" href=structsacfmt_1_1word__pair.html>degrees</a>)};</div><div class=ttc id=anamespacesacfmt_html_a5408a7de5eb672b341de42e6804d82e1><div class=ttname><a href=namespacesacfmt.html#a5408a7de5eb672b341de42e6804d82e1>sacfmt::limit_180</a></div><div class=ttdeci>double limit_180(double degrees) noexcept</div><div class=ttdoc>Takes a decimal degree value and constrains it to a half circle using symmetry.</div><div class=ttdef><b>Definition</b> sac_format.cpp:792</div></div></div><ul><li><code>limit_90</code></ul><p>Take arbitrary value of degrees and unwrap to $[-90, 90]$. Useful for latitude.<div class=fragment><div class=line><span class=keywordtype>double</span> <a class="code hl_struct" href=structsacfmt_1_1word__pair.html>degrees_limited</a>{<a class="code hl_function" href=namespacesacfmt.html#aa158c96f64f3f63d1c2c1c670b1ad8e9>sacfmt::limit_90</a>(<a class="code hl_struct" href=structsacfmt_1_1word__pair.html>degrees</a>)};</div><div class=ttc id=anamespacesacfmt_html_aa158c96f64f3f63d1c2c1c670b1ad8e9><div class=ttname><a href=namespacesacfmt.html#aa158c96f64f3f63d1c2c1c670b1ad8e9>sacfmt::limit_90</a></div><div class=ttdeci>double limit_90(double degrees) noexcept</div><div class=ttdoc>Takes a decimal degree value and constrains it to a quarter circle using symmetry.</div><div class=ttdef><b>Definition</b> sac_format.cpp:812</div></div></div><h2><a class=anchor id=autotoc_md45></a>Low-Level I/O</h2><p>Low-level I/O functions are discussed below.<ol type=1><li>Binary conversion<ol type=a><li><p class=startli><code>int_to_binary</code> and <code>binary_to_int</code><p class=startli>Conversion pair for binary representation of integer values.<p class=startli><code>cpp const int input{10}; // <a class=el href=namespacesacfmt.html#af5c0c15ea4154bc14bf4083f1ebaed08 title="One binary word (useful for non-strings).">sacfmt::word_one</a> is alias for std::bitset&lt;32> (one word) <a class=el href=namespacesacfmt.html#af5c0c15ea4154bc14bf4083f1ebaed08 title="One binary word (useful for non-strings).">sacfmt::word_one</a> binary{sacfmt::int_to_binary(input)}; const int output{sacfmt::binary_to_int(binary)}; std::cout &lt;&lt; (input == output) &lt;&lt; '\n';</code><li><p class=startli><code>float_to_binary</code> and <code>binary_to_float</code><p class=startli>Conversion pair for binary representation of floating-point values.<p class=startli><code>cpp const float input{5F}; <a class=el href=namespacesacfmt.html#af5c0c15ea4154bc14bf4083f1ebaed08 title="One binary word (useful for non-strings).">sacfmt::word_one</a> binary{sacfmt::float_to_binary(input)}; const float output{sacfmt::binary_to_float(binary)}; std::cout &lt;&lt; (input == output) &lt;&lt; '\n';</code><li><p class=startli><code>double_to_binary</code> and <code>binary_to_double</code><p class=startli>Conversion pair for binary representation of double-precision values.<p class=startli><code>cpp const double input{1e5}; // <a class=el href=namespacesacfmt.html#a98117fb2513e24dc91cfdd46a8e214a3 title="Two binary words (useful for strings).">sacfmt::word_two</a> is alias for std::bitset&lt;64> (two words) <a class=el href=namespacesacfmt.html#a98117fb2513e24dc91cfdd46a8e214a3 title="Two binary words (useful for strings).">sacfmt::word_two</a> binary{sacfmt::double_to_binary(input)}; const double output{sacfmt::binary_to_double(binary)}; std::cout &lt;&lt; (input == output) &lt;&lt; '\n';</code><li><p class=startli><code>string_to_binary</code> and <code>binary_to_string</code><p class=startli>Conversion pair for binary representation of two-word (regular) string values.<p class=startli><code>cpp const std::string input{"NmlStrng"}; <a class=el href=namespacesacfmt.html#a98117fb2513e24dc91cfdd46a8e214a3 title="Two binary words (useful for strings).">sacfmt::word_two</a> binary{sacfmt::string_to_binary(input)}; const std::string output{sacfmt::binary_to_string(binary)}; std::cout &lt;&lt; (input == output) &lt;&lt; '\n';</code><li><p class=startli><code>long_string_to_binary</code> and <code>binary_to_long_string</code><p class=startli>Conversion pair for binary representation of four-word (only `kstnm`) string values.<p class=startli><code>cpp const std::string input{"The Long String"}; // <a class=el href=namespacesacfmt.html#afe2f8aa302f7a6c76da07919f206cf2c title="Four binary words (kEvNm only).">sacfmt::word_four</a> is alias for std::bitset&lt;128> (four words) <a class=el href=namespacesacfmt.html#afe2f8aa302f7a6c76da07919f206cf2c title="Four binary words (kEvNm only).">sacfmt::word_four</a> binary{sacfmt::long_string_to_binary(input)}; const std::string output{sacfmt::binary_to_long_string(binary)}; std::cout &lt;&lt; (input == output) &lt;&lt; '\n';</code></ol><li><p class=startli>Reading/Writing<p class=startli><b>NOTE</b> that care must be taken when using them to ensure that safe input is provided; the <code>Trace</code> class ensures safe I/O, low-level I/O functions do not necessarily ensure safety.<ol type=a><li><p class=startli><code>read_word</code>, <code>read_two_words</code>, <code>read_four_words</code>, and <code>read_data</code><p class=startli>Functions to read one-, two-, and four-word variables (depending on the header) and an arbitrary amount of binary data (exclusive to <code>data1</code> and <code>data2</code>).<li><p class=startli><code>convert_to_word</code>, <code>convert_to_words</code>, and <code>bool_to_word</code><p class=startli>Takes objects and converts them into <code>std::vector&lt;char></code> (<code>convert_to_word</code> and <code>bool_to_word</code>) or <code>std::array&lt;char, N></code> (<code>convert_to_words</code>, N = # of words).<li><p class=startli><code>write_words</code><p class=startli>Writes input words (as <code>std::vector&lt;char></code>) to a binary SAC-file.</ol><li>Utility<ol type=a><li><p class=startli><code>concat_words</code><p class=startli>Concatenates words taking into account the system endianness.<li><p class=startli><code>bits_string</code> and <code>string_bits</code><p class=startli>Template function that performs conversion of binary strings of arbitrary length to an arbitrary number of words.<li><p class=startli><code>remove_leading_spaces</code> and <code>remove_trailing_spaces</code><p class=startli>Remove leading and trailing blank spaces from strings assuming ASCII convention (space character is integer 32, below that value are control characters that also appear as blank spaces).<li><p class=startli><code>string_cleaning</code><p class=startli>Ensures string does not contain an internal termination character (<code>\0</code>) and removes it if present, then removes blank spaces.<li><p class=startli><code>prep_string</code><p class=startli>Performs <code>string_cleaning</code> followed by string truncation/padding to the necessary length.<li><p class=startli><code>equal_within_tolerance</code><p class=startli>Floating-point/double-precision equality within a provided tolerance (default is <code>f_eps</code>, defined in <code><a class=el href=sac__format_8hpp.html title="Interface of the sac-format library.">sac_format.hpp</a></code>).</ol></ol><p><a class=anchor id=Testing></a><h2><a class=anchor id=autotoc_md46></a>Testing</h2><p><code>utests.cpp</code> contains the unit- and integration-tests, using Catch2. Test coverage details are visible on <a href=https://app.codecov.io/gh/arbCoding/sac-format>CodeCov.io</a> and <a href=https://app.codacy.com/gh/arbCoding/sac-format/dashboard>Codacy.com</a>. All tests can be locally-run to ensure full functionality and compliance.<h3><a class=anchor id=autotoc_md47></a>Errors only</h3><p>By default <code>utests</code> prints out a pass summary, without details unless an error is encountered.<h3><a class=anchor id=autotoc_md48></a>Full output</h3><p>By passing the <code>--success</code> flag (<code>utests --success</code>) you can see the full results of all tests.<h3><a class=anchor id=autotoc_md49></a>Compact output</h3><p>The full output is verbose, using the compact reporter will condense the test results (<code>utests --reporter=compact --success</code>).<h3><a class=anchor id=autotoc_md50></a>Additional options</h3><p>To see additional options, run <code>utests -?</code>.<h3><a class=anchor id=autotoc_md51></a>Using ctest</h3><p>If you have CMake install, you can run the tests using <code>ctest</code>.<h2><a class=anchor id=autotoc_md52></a>Benchmarking</h2><p><code>benchmark.cpp</code> contains the benchmarks. Running it locally will provide information on how long each function takes; benchmarks start with the low-level I/O function and build up to Trace reading, writing, and equality comparison.<p>To view available optional flags, run <code>becnhmark -?</code>.<h2><a class=anchor id=autotoc_md53></a>Source File List</h2><h3><a class=anchor id=autotoc_md54></a>Core</h3><p>The two core files are split in the standard interface (hpp)/implementation (cpp) format.<ol type=1><li><p class=startli><code><a class=el href=sac__format_8hpp.html title="Interface of the sac-format library.">sac_format.hpp</a></code><p class=startli>Interface&amp;#x2014;function declarations and constants.<li><p class=startli><code><a class=el href=sac__format_8cpp.html title="Implementation of the sac-format library.">sac_format.cpp</a></code><p class=startli>Implementation&amp;#x2014;function details.</ol><h3><a class=anchor id=autotoc_md55></a>Testing and Benchmarking</h3><ol type=1><li><p class=startli><code>util.hpp</code><p class=startli>Utility functions and constants exclusive to testing and benchmarking. Not split into interface/implementation.<li><code>utests.cpp</code><li><code>benchmark.cpp</code></ol><h3><a class=anchor id=autotoc_md56></a>Example programs</h3><ol type=1><li><code>list_sac.cpp</code></ol><h2><a class=anchor id=autotoc_md57></a>Dependencies</h2><h3><a class=anchor id=autotoc_md58></a>Automatic (CMake)</h3><ol type=1><li><a href=https://github.com/Reputeless/Xoshiro-cpp>Xoshiro-cpp v1.12.0</a> (testing and benchmarking)<li><a href=https://github.com/catchorg/Catch2>Catch2 v3.4.0</a> (testing and benchmarking)</ol><h2><a class=anchor id=autotoc_md59></a>SAC-file format</h2><p>The official and up-to-date documentation for the SAC-file format is available from the EarthScope Consortium (formerly IRIS/UNAVCO) <a href=https://ds.iris.edu/files/sac-manual/manual/file_format.html>here</a>. The following subsections constitute my notes on the format. Below is a quick guide&amp;#x2014;all credit for the creation of, and documentation for, the SAC file-format belongs to its developers and maintainers (details <a href=https://ds.iris.edu/ds/nodes/dmc/software/downloads/sac/>here</a>).<h3><a class=anchor id=autotoc_md60></a>Floating-point (39)</h3><p>32-bit (1 word, 4 bytes)<ol type=1><li><p class=startli><code>depmin</code><p class=startli>Minimum value of the dependent variable (displacement/velocity/acceleration/volts/counts).<li><p class=startli><code>depmen</code><p class=startli>Mean value of the dependent variable.<li><p class=startli><code>depmax</code><p class=startli>Maximum value of the dependent variable.<li><p class=startli><code>odelta</code><p class=startli>Modified (<em>observational</em>) value of `delta`.<li><p class=startli><code>resp(0--9)</code><p class=startli>Instrument response parameters (poles, zeros, and a constant).<p class=startli><b>Not used by SAC</b>&amp;#x2014;they&rsquo;re free for other purposes.<li><p class=startli><code>stel</code><p class=startli>Station elevation in meters above sea level (<em>m.a.s.l</em>).<p class=startli><b>Not used by SAC</b>&amp;#x2014;free for other purposes.<li><p class=startli><code>stdp</code><p class=startli>Station depth in meters below surface (borehole/buried vault).<p class=startli><b>Not used by SAC</b>&amp;#x2014;free for other purposes.<li><p class=startli><code>evel</code><p class=startli>Event elevation <em>m.a.s.l.</em><p class=startli><b>Not used by SAC</b>&amp;#x2014;free for other purposes.<li><p class=startli><code>evdp</code><p class=startli>Event depth in kilometers (<em>previously meters</em>) below surface.<li><p class=startli><code>mag</code><p class=startli>Event magnitude.<li><p class=startli><code>user(0--9)</code><p class=startli>Storage for user-defined values.<li><p class=startli><code>dist</code><p class=startli>Station&amp;#x2013;Event distance in kilometers.<li><p class=startli><code>az</code><p class=startli>Azimuth $\mathrm{\left(Event \to Station\right)}$, decimal degrees from North.<li><p class=startli><code>baz</code><p class=startli>Back-azimuth $\mathrm{\left(Station \to Event\right)}$, decimal degrees from North.<li><p class=startli><code>gcarc</code><p class=startli>Station&amp;#x2013;Event great circle arc-length, decimal degrees.<li><p class=startli><code>cmpaz</code><p class=startli>Instrument measurement azimuth, decimal degrees from North.</ol><table class=markdownTable><tr class=markdownTableHead><th class=markdownTableHeadNone>Value<th class=markdownTableHeadNone>Direction<tr class=markdownTableRowOdd><td class=markdownTableBodyNone>0&deg;<td class=markdownTableBodyNone>North<tr class=markdownTableRowEven><td class=markdownTableBodyNone>90&deg;<td class=markdownTableBodyNone>East<tr class=markdownTableRowOdd><td class=markdownTableBodyNone>180&deg;<td class=markdownTableBodyNone>South<tr class=markdownTableRowEven><td class=markdownTableBodyNone>270&deg;<td class=markdownTableBodyNone>West<tr class=markdownTableRowOdd><td class=markdownTableBodyNone>Other<td class=markdownTableBodyNone>1/2/3</table><ol type=1><li><p class=startli><code>cmpinc</code><p class=startli>Instrument measurement incident angle, decimal degrees from upward vertical (incident 0&deg; = dip -90&deg;).<p class=startli>| Value | Direction | | 0&deg; | Up | | 90&deg; | Horizontal | | 180&deg; | Down | | 270&deg; | Horizontal |<p class=startli><b>NOTE:</b> SEED/MINISEED use dip angle, decimal degrees down from horizontal (dip 0&deg; = incident 90&deg;).<li><p class=startli><code>xminimum</code><p class=startli>Spectral-only equivalent of `depmin` ($f_{0}$ or $\omega_{0}$).<li><p class=startli><code>xmaximum</code><p class=startli>Spectral-only equivalent of `depmax` ($f_{max}$ or $\omega_{max}$).<li><p class=startli><code>yminimum</code><p class=startli>Spectral-only equivalent of `b`.<li><p class=startli><code>ymaximum</code><p class=startli>Spectral-only equivalent of `e`.</ol><h3><a class=anchor id=autotoc_md61></a>Double (22)</h3><p>64-bit (2 words, 8 bytes)<p><b>NOTE:</b> in the header section these are floats&amp;#x2014;they&rsquo;re doubles in the footer section of <code>v7</code> SAC-files. In memory they&rsquo;re stored as doubles regardless of the SAC-file version.<ol type=1><li><p class=startli><code>delta</code><p class=startli>Increment between evenly spaced samples ($\Delta t$ for timeseries, $\Delta f$ or $\Delta\omega$ for spectra).<li><p class=startli><code>b</code><p class=startli>First value (<em>begin</em>) of independent variable ($t_{0}$).<li><p class=startli><code>e</code><p class=startli>Final value (<em>end</em>) of independent variable ($t_{max}$).<li><p class=startli><code>o</code><p class=startli>Event <em>origin</em> time, in seconds relative to the reference time.<li><p class=startli><code>a</code><p class=startli>Event first <em>arrival</em> time, in seconds relative to the reference time.<li><p class=startli><code>t(0--9)</code><p class=startli>User defined <em>time</em> values, in seconds relative to the reference time.<li><p class=startli><code>f</code><p class=startli>Event end (<em>fini</em>) time, in seconds relative to the reference time.<li><p class=startli><code>stla</code><p class=startli>Station latitude in decimal degrees, N/S&amp;#x2013;positive/negative.<p class=startli>sac-format automatically enforces $\mathrm{stla}\in[-90, 90]$.<li><p class=startli><code>stlo</code><p class=startli>Station longitude in decimal degrees, E/W&amp;#x2013;positive/negative.<p class=startli>sac-format automatically enforces $\mathrm{stlo}\in[-180, 180]$.<li><p class=startli><code>evla</code><p class=startli>Event latitude in decimal degrees, N/S&amp;#x2013;positive/negative.<p class=startli>sac-format automatically enforces $\mathrm{evla}\in[-90, 90]$.<li><p class=startli><code>evlo</code><p class=startli>Event longitude in decimal degrees, E/W&amp;#x2013;positive/negative.<p class=startli>sac-format automatically enforces $\mathrm{evlo}\in[-180, 180]$.<li><p class=startli><code>sb</code><p class=startli>Original (<em>saved</em>) `b` value.<li><p class=startli><code>sdelta</code><p class=startli>Original (<em>saved</em>) `delta` value.</ol><h3><a class=anchor id=autotoc_md62></a>Integer (26)</h3><p>32-bit (1 word, 4 bytes)<ol type=1><li><p class=startli><code>nzyear</code><p class=startli>Reference time GMT year.<li><p class=startli><code>nzjday</code><p class=startli>Reference time GMT day-of-year (often called <a href=https://en.wikipedia.org/wiki/Julian_day>Julian Date</a>) (1&amp;#x2013;366).<li><p class=startli><code>nzhour</code><p class=startli>Reference time GMT hour (00&amp;#x2013;23).<li><p class=startli><code>nzmin</code><p class=startli>Reference time GMT minute (0&amp;#x2013;59).<li><p class=startli><code>nzsec</code><p class=startli>Reference time GMT second (0&amp;#x2013;59).<li><p class=startli><code>nzmsec</code><p class=startli>Reference time GMT Millisecond (0&amp;#x2013;999).<li><p class=startli><code>nvhdr</code><p class=startli>SAC-file version.<p class=startli>| Version | Description | | <code>v7</code> | Footer (2020+, sac 102.0+) | | <code>v6</code> | No footer (pre-2020, sac 101.6a-) |<li><p class=startli><code>norid</code><p class=startli>Origin ID.<li><p class=startli><code>nevid</code><p class=startli>Event ID.<li><p class=startli><code>npts</code><p class=startli><em>Number of points</em> in data.<li><p class=startli><code>nsnpts</code><p class=startli>Original (<em>saved</em>) `npts`.<li><p class=startli><code>nwfid</code><p class=startli>Waveform ID.<li><p class=startli><code>nxsize</code><p class=startli>Spectral-only equivalent of `npts` (length of spectrum).<li><p class=startli><code>nysize</code><p class=startli>Spectral-only, width of spectrum.<li><p class=startli><code>iftype</code><p class=startli>File type.<p class=startli>| Value | Type | Description | | 01 | ITIME | Time-series | | 02 | IRLIM | Spectral (real/imaginary) | | 03 | IAMPH | Spectral (amplitude/phase) | | 04 | IXY | General XY file | | ?? | IXYZ&#8727; | General XYZ file |<p class=startli>&#8727;Value not listed in the standard.<li><p class=startli><code>idep</code><p class=startli>Dependent variable type.<p class=startli>| Value | Type | Description | | 05 | IUNKN | Unknown | | 06 | IDISP | Displacement (nm) | | 07 | IVEL | Velocity $\mathrm{\left(\frac{nm}{s}\right)}$ | | 08 | IACC | Acceleration $\mathrm{\left(\frac{nm}{s^{2}}\right)}$ | | 50 | IVOLTS | Velocity (volts) |<li><p class=startli><code>iztype</code><p class=startli>Reference time equivalent.<p class=startli>| Value | Type | Description | | 05 | IUNKN | Unknown | | 09 | IB | Recording start time | | 10 | IDAY | Midnight reference GMT day | | 11 | IO | Event origin time | | 12 | IA | First arrival time | | 13&amp;#x2013;22 | IT(0&amp;#x2013;9) | User defined time (t) pick |<li><p class=startli><code>iinst</code><p class=startli>Recording instrument type.<p class=startli><b>Not used by SAC</b>&amp;#x2014;free for other purposes.<li><p class=startli><code>istreg</code><p class=startli>Station geographic region.<p class=startli><b>Not used by SAC</b>&amp;#x2014;free for other purposes.<li><p class=startli><code>ievreg</code><p class=startli>Event geographic region.<p class=startli><b>Not used by SAC</b>&amp;#x2014;free for other purposes.<li><p class=startli><code>ievtyp</code><p class=startli>Event type.<p class=startli>| Value | Type | Description | | 05 | IUNKN | Unknown | | 11 | IO | Other source of known origin | | 37 | INUCL | Nuclear | | 38 | IPREN | Nuclear pre-shot | | 39 | IPOSTN | Nuclear post-shot | | 40 | IQUAKE | Earthquake | | 41 | IPREQ | Foreshock | | 42 | IPOSTQ | Aftershock | | 43 | ICHEM | Chemical explosion | | 44 | IOTHER | Other | | 72 | IQB | Quarry/mine blast&amp;#x2014;confirmed by quarry/mine | | 73 | IQB1 | Quarry/mine blast&amp;#x2014;designed shot info-ripple fired | | 74 | IQB2 | Quarry/mine blast&amp;#x2014;observed shot info-ripple fired | | 75 | IQBX | Quarry/mine blast&amp;#x2014;single shot | | 76 | IQMT | Quarry/mining induced events&amp;#x2014;tremor and rockbursts | | 77 | IEQ | Earthquake | | 78 | IEQ1 | Earthquake in a swarm or in an aftershock sequence | | 79 | IEQ2 | Felt earthquake | | 80 | IME | Marine explosion | | 81 | IEX | Other explosion | | 82 | INU | Nuclear explosion | | 83 | INC | Nuclear cavity collapse | | 85 | IL | Local event of unknown origin | | 86 | IR | Region event of unknown origin | | 87 | IT | Teleseismic event of unknown origin | | 88 | IU | Undetermined/conflicting information |<li><p class=startli><code>iqual</code><p class=startli>Quality of data.<p class=startli>| Value | Type | Description | | 44 | IOTHER | Other | | 45 | IGOOD | Good | | 46 | IGLCH | Glitches | | 47 | IDROP | Dropouts | | 48 | ILOWSN | Low signal-to-noise ratio |<p class=startli><b>Not used by SAC</b>&amp;#x2014;free for other purposes.<li><p class=startli><code>isynth</code><p class=startli>Synthetic data flag.<p class=startli>| Value | Type | Description | | 49 | IRLDATA | Real data | | XX | &#8727; | Synthetic |<p class=startli>&#8727;Values and types not listed in the standard.<li><p class=startli><code>imagtyp</code><p class=startli>Magnitude type.<p class=startli>| Value | Type | Description | | 52 | IMB | Body-wave magnitude ($M_{b}$) | | 53 | IMS | Surface-wave magnitude ($M_{s}$) | | 54 | IML | Local magnitude ($M_{l}$) | | 55 | IMW | Moment magnitude ($M_{w}$) | | 56 | IMD | Duration magnitude ($M_{d}$) | | 57 | IMX | User-defined magnitude ($M_{x}$) |<li><p class=startli><code>imagsrc</code><p class=startli>Source of magnitude information.<p class=startli>| Value | Type | Description | | 58 | INEIC | National Earthquake Information Center | | 61 | IPDE | Preliminary Determination of Epicenter | | 62 | IISC | Internation Seismological Centre | | 63 | IREB | Reviewed Event Bulletin | | 64 | IUSGS | U.S. Geological Survey | | 65 | IBRK | UC Berkeley | | 66 | ICALTECH | California Institute of Technology | | 67 | ILLNL | Lawrence Livermore National Laboratory | | 68 | IEVLOC | Event location (computer program) | | 69 | IJSOP | Joint Seismic Observation Program | | 70 | IUSER | The user | | 71 | IUNKNOWN | Unknown |<li><p class=startli><code>ibody</code><p class=startli>Body/spheroid definition used to calculate distances.<p class=startli>| Value | Type | Name | Semi-major axis (a [m]) | Inverse Flattening (<em>f</em>) | | -12345 | UNDEF | Earth (<em>Historic</em>) | 6378160.0 | 0.00335293 | | 98 | ISUN | Sun | 696000000.0 | 8.189e-6 | | 99 | IMERCURY | Mercury | 2439700.0 | 0.0 | | 100 | IVENUS | Venus | 6051800.0 | 0.0 | | 101 | IEARTH | Earth (<em>WGS84</em>) | 6378137.0 | 0.0033528106647474805 | | 102 | IMOON | Moon | 1737400.0 | 0.0 | | 103 | IMARS | Mars | 3396190.0 | 0.005886007555525457 |</ol><h3><a class=anchor id=autotoc_md63></a>Boolean (4)</h3><p>32-bit (1 word, 4 bytes) in-file/8-bit (1 byte) in-memory<ol type=1><li><p class=startli><code>leven</code><p class=startli><b>REQUIRED</b><p class=startli>Evenly-spaced data flag.<p class=startli>If true, then data is evenly spaced.<li><p class=startli><code>lpspol</code><p class=startli>Station polarity flag.<p class=startli>If true, then station has positive-polarity&amp;#x2014;it follows the left-hand convention (for example, North-East-Up [NEZ]).<li><p class=startli><code>lovrok</code><p class=startli>File overwrite flag.<p class=startli>If true, then it&rsquo;s okay to overwrite the file.<li><p class=startli><code>lcalda</code><p class=startli>Calculate geometry flag.<p class=startli>If true, then calculate `dist`, `az`, `baz`, and `gcarc` from `stla`, `stlo`, `evla`, and `evlo`.</ol><h3><a class=anchor id=autotoc_md64></a>String (23)</h3><p>32/64-bit (2/4 words, 8/16 bytes, 8/16 characters)<ol type=1><li><p class=startli><code>kstnm</code><p class=startli>Station name.<li><p class=startli><code>kevnm</code>&#8727;<p class=startli>Event name.<p class=startli>&#8727;This is the <b>only</b> four word (16 character) string.<li><p class=startli><code>khole</code><p class=startli>Nuclear&amp;#x2014;hole identifier.<p class=startli>Other&amp;#x2014;Location identifier (LOCID).<li><p class=startli><code>ko</code><p class=startli>Text for `o`.<li><p class=startli><code>ka</code><p class=startli>Text for `a`.<li><p class=startli><code>kt(0--9)</code><p class=startli>Text for `t(0--9)`.<li><p class=startli><code>kf</code><p class=startli>Text for `f`.<li><p class=startli><code>kuser(0--2)</code><p class=startli>Text for the first three of `user(0--9)`.<li><p class=startli><code>kdatrd</code><p class=startli>Date the data was read onto a computer.<li><p class=startli><code>kinst</code><p class=startli>Text for `iinst`.</ol><h3><a class=anchor id=autotoc_md65></a>Data (2)</h3><p>32-bit (2 words, 8 bytes) in-file/64-bit (4 words, 16 bytes) in-memory<p>Stored as floating-point (32-bit) values in SAC-files; stored as double-precision in memory.<ol type=1><li><p class=startli><code>data1</code><p class=startli>The first data vector&mdash;**always** present in a SAC-file and begins at word 158.<li><p class=startli><code>data2</code><p class=startli>The second data vector&mdash;**conditionally** present and begins after `data1`.<p class=startli><b>Required</b> if `leven` is false, or if `iftype` is spectral/XY/XYZ.</ol><h1><a class=anchor id=autotoc_md66></a>Notes</h1><h2><a class=anchor id=autotoc_md67></a>Why C++20 and not C++23</h2><p>Compiler restrictions&amp;#x2014;C++23 support <a href=https://en.cppreference.com/w/cpp/compiler_support/23>requires</a> GCC-13+ and Clang-16+. Many systems, still use GCC-12 and Clang-15&amp;#x2014;which has near complete support for <a href=https://en.cppreference.com/w/cpp/compiler_support/20>C++20</a>.<p>sac-format strives for accessibility, modernity, safety, and speed&amp;#x2014;C++20 provides the best fit.</div></div></div></div><div id=nav-path class=navpath><ul><li class=footer>Generated by <a href=https://www.doxygen.org/index.html><img class=footer src=doxygen.svg width=104 height=31 alt=doxygen></a> 1.9.8</ul></div>
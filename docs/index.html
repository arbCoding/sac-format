<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>sac-format</title>
<meta name="author" content="Alexander R. Blanchette" />
<meta name="generator" content="Org Mode" />
<link rel="stylesheet" type="text/css" href="https://fniessen.github.io/org-html-themes/src/readtheorg_theme/css/htmlize.css"/>
<link rel="stylesheet" type="text/css" href="https://fniessen.github.io/org-html-themes/src/readtheorg_theme/css/readtheorg.css"/>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
<script type="text/javascript" src="https://fniessen.github.io/org-html-themes/src/lib/js/jquery.stickytableheaders.min.js"></script>
<script type="text/javascript" src="https://fniessen.github.io/org-html-themes/src/readtheorg_theme/js/readtheorg.js"></script>
<style> .figure p {text-align: center;}</style>
<script>
  window.MathJax = {
    tex: {
      ams: {
        multlineWidth: '85%'
      },
      tags: 'ams',
      tagSide: 'right',
      tagIndent: '.8em'
    },
    chtml: {
      scale: 1.0,
      displayAlign: 'center',
      displayIndent: '0em'
    },
    svg: {
      scale: 1.0,
      displayAlign: 'center',
      displayIndent: '0em'
    },
    output: {
      font: 'mathjax-modern',
      displayOverflow: 'overflow'
    }
  };
</script>

<script
  id="MathJax-script"
  async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
</script>
</head>
<body>
<div id="content" class="content">
<h1 class="title">sac-format
<br />
<span class="subtitle">C++20 SAC-file Library  <br> V0.4.0  <br> User Manual</span>
</h1>
<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#org5fefcc7">1. Introduction</a>
<ul>
<li><a href="#org86dbcfe">1.1. Why sac-format</a>
<ul>
<li><a href="#org6957858">1.1.1. Safe</a></li>
<li><a href="#orga865858">1.1.2. Fast</a></li>
<li><a href="#org4e7d46e">1.1.3. Easy</a></li>
<li><a href="#orgd633565">1.1.4. Small</a></li>
<li><a href="#org4520912">1.1.5. Documented</a></li>
<li><a href="#org18704c0">1.1.6. Transparent</a></li>
<li><a href="#orge95da1a">1.1.7. Trace Class</a></li>
<li><a href="#org3d7b5a4">1.1.8. Low-Level I/O</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#orgc489e60">2. Quickstart</a>
<ul>
<li><a href="#org65dc5e3">2.1. Installation</a>
<ul>
<li><a href="#org9207faf">2.1.1. Windows</a></li>
<li><a href="#org1be4ffd">2.1.2. macOS</a></li>
<li><a href="#orge36e4f0">2.1.3. Linux</a></li>
</ul>
</li>
<li><a href="#org8f93aed">2.2. Build Instructions</a>
<ul>
<li><a href="#orgf7f9798">2.2.1. GCC</a></li>
<li><a href="#org9add1b1">2.2.2. Clang</a></li>
</ul>
</li>
<li><a href="#orgd78f199">2.3. Use</a></li>
<li><a href="#org3253198">2.4. Example Programs</a>
<ul>
<li><a href="#orgffbd0f1">2.4.1. <code>list_sac</code></a></li>
</ul>
</li>
<li><a href="#org64ac044">2.5. CMake Integration</a></li>
<li><a href="#org9bffd7d">2.6. Example</a>
<ul>
<li><a href="#org7433609">2.6.1. Reading and Writing</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#org83b28b1">3. Documentation</a>
<ul>
<li><a href="#org8db1ebd">3.1. Trace class</a>
<ul>
<li><a href="#orgc1b9361">3.1.1. Reading SAC</a></li>
<li><a href="#org38b2a77">3.1.2. Writing SAC</a></li>
<li><a href="#org89e1dca">3.1.3. Getters and Setters</a></li>
<li><a href="#org795a0c6">3.1.4. Internal Structure</a></li>
<li><a href="#orgedabc63">3.1.5. Convenience Methods</a></li>
<li><a href="#org5431d9f">3.1.6. Exceptions</a></li>
</ul>
</li>
<li><a href="#org14cdd10">3.2. Convenience Functions</a></li>
<li><a href="#orga7ca1a0">3.3. Low-Level I/O</a></li>
<li><a href="#orga3b038a">3.4. Testing</a>
<ul>
<li><a href="#orge3d8625">3.4.1. Errors only</a></li>
<li><a href="#org4139d58">3.4.2. Full output</a></li>
<li><a href="#orgec53a19">3.4.3. Compact output</a></li>
<li><a href="#org7d79d33">3.4.4. Additional options</a></li>
<li><a href="#orgcac0b2a">3.4.5. Using ctest</a></li>
</ul>
</li>
<li><a href="#orgcb71261">3.5. Benchmarking</a></li>
<li><a href="#org6c36b7b">3.6. Source File List</a>
<ul>
<li><a href="#org3ec260c">3.6.1. Core</a></li>
<li><a href="#org1ad1f42">3.6.2. Testing and Benchmarking</a></li>
<li><a href="#org89c2d9c">3.6.3. Example programs</a></li>
</ul>
</li>
<li><a href="#orgc232bdd">3.7. Dependencies</a>
<ul>
<li><a href="#org9326b59">3.7.1. Automatic (CMake)</a></li>
</ul>
</li>
<li><a href="#org3ab6c0a">3.8. SAC-file format</a>
<ul>
<li><a href="#org69b54a5">3.8.1. Floating-point (39)</a></li>
<li><a href="#org4ef913e">3.8.2. Double (22)</a></li>
<li><a href="#org606f194">3.8.3. Integer (26)</a></li>
<li><a href="#orgaf0982c">3.8.4. Boolean (4)</a></li>
<li><a href="#orgf8ab87a">3.8.5. String (23)</a></li>
<li><a href="#org4f48cc5">3.8.6. Data (2)</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#orgc58d0ee">4. Notes</a>
<ul>
<li><a href="#org9493a72">4.1. Why C++20 and not C++23</a></li>
</ul>
</li>
</ul>
</div>
</div>
<a href="https://github.com/arbCoding/sac-format/actions/workflows/cmake-windows.yml">
<img alt="Windows 2022 Build Status", src="https://github.com/arbCoding/sac-format/actions/workflows/cmake-windows.yml/badge.svg" />
</a>

<a href="https://github.com/arbCoding/sac-format/actions/workflows/cmake-ubuntu.yml">
<img alt="Ubuntu 22.04 Build Status", src="https://github.com/arbCoding/sac-format/actions/workflows/cmake-ubuntu.yml/badge.svg" />
</a>

<a href="https://github.com/arbCoding/sac-format/actions/workflows/cmake-macos.yml">
<img alt="macOS 13 Build Status", src="https://github.com/arbCoding/sac-format/actions/workflows/cmake-macos.yml/badge.svg" />
</a>

<a href="https://codecov.io/gh/arbCoding/sac-format/" >
<img alt="Code Coverage" src="https://codecov.io/gh/arbCoding/sac-format/graph/badge.svg" />
</a>

<!---
<img src="https://tokei.rs/b1/github/arbCoding/sac-format?category=code" />
--->

<img src="https://img.shields.io/github/languages/code-size/arbCoding/sac-format" />

<a href="https://app.codacy.com/gh/arbCoding/sac-format/dashboard">
<img alt="Codacy grade" src="https://img.shields.io/codacy/grade/870db5c2793a48df9ed98e942a08fc9e" />
</a>

<a href="https://www.codefactor.io/repository/github/arbcoding/sac-format">
<img src="https://www.codefactor.io/repository/github/arbcoding/sac-format/badge" alt="CodeFactor" />
</a>

<a href="https://scan.coverity.com/projects/arbcoding-sac-format">
<img alt="Coverity Scan Build Status" src="https://scan.coverity.com/projects/29505/badge.svg"/>
</a>

<a href="https://github.com/arbCoding/sac-format/actions/workflows/cpp-linter.yml">
<img alt="CPP-Linter Results" src="https://github.com/arbCoding/sac-format/actions/workflows/cpp-linter.yml/badge.svg" />
</a>

</a>

<div id="outline-container-org5fefcc7" class="outline-2">
<h2 id="org5fefcc7"><span class="section-number-2">1.</span> Introduction</h2>
<div class="outline-text-2" id="text-1">
<p>
sac-format is a single-header statically linked library designed to make working
with binary <a href="https://ds.iris.edu/files/sac-manual/manual/file_format.html">SAC</a>-files as easy as possible. Written in C++20, it follows a modern
and easy to read programming-style while providing the high performance brought
by C++.
</p>

<p>
sac-format&rsquo;s developed on <a href="https://github.com/arbCoding/sac-format">GitHub</a>!
</p>

<p>
Download <a href="https://github.com/arbCoding/sac-format/releases">sac-format</a> from the GitHub release page.
</p>

<p>
<a href="https://arbcoding.github.io/sac-format/sac-format_manual.pdf">Download</a> an offline version of the documentation (PDF).
</p>

<p>
Get <a href="https://github.com/arbCoding/sac-format/discussions/">help</a> from the community forum.
</p>
</div>

<div id="outline-container-org86dbcfe" class="outline-3">
<h3 id="org86dbcfe"><span class="section-number-3">1.1.</span> Why sac-format</h3>
<div class="outline-text-3" id="text-1-1">
<p>
sac-format is Free and Open Source Software (FOSS) released under the MIT
license. Anyone can use it, for any purpose (including proprietary software),
anywhere in the world. sac-format is operating system agnostic and confirmed
working on Windows, macOS, and Linux systems.
</p>
</div>

<div id="outline-container-org6957858" class="outline-4">
<h4 id="org6957858"><span class="section-number-4">1.1.1.</span> Safe</h4>
<div class="outline-text-4" id="text-1-1-1">
<p>
sac-format is <b>safe</b>&#x2014;it conforms to a strict set of C++ programming guidelines,
chosen to ensure safe code-execution. The guideline conformance list is in
<a href="https://github.com/arbCoding/sac-format/blob/main/.github/workflows/cpp-linter.yml"><code>cpp-linter.yml</code></a> and can be cross-referenced against this <a href="https://clang.llvm.org/extra/clang-tidy/checks/list.html">master list</a>. Results
of conformance checking are <a href="https://github.com/arbCoding/sac-format/actions/workflows/cpp-linter.yml">here</a>.
</p>

<p>
Testing is an important part of software development; the sac-format library is
extensively tested using the <a href="https://github.com/catchorg/Catch2">Catch2</a> testing framework. Everything from low-level
binary conversions to high-level <code>Trace</code> reading/writing are tested and confirmed
working. Check and run the tests yourself. See the <a href="#orga3b038a">Testing</a> section for more
information.
</p>
</div>
</div>

<div id="outline-container-orga865858" class="outline-4">
<h4 id="orga865858"><span class="section-number-4">1.1.2.</span> Fast</h4>
<div class="outline-text-4" id="text-1-1-2">
<p>
sac-format is <b>fast</b>&#x2014;it&rsquo;s written in C++, carefully optimized, and extensively
benchmarked. You can run the benchmarks yourself to find out how sac-format
performs on your system. See the <a href="#orgcb71261">Benchmarking</a> section for more information.
</p>
</div>
</div>

<div id="outline-container-org4e7d46e" class="outline-4">
<h4 id="org4e7d46e"><span class="section-number-4">1.1.3.</span> Easy</h4>
<div class="outline-text-4" id="text-1-1-3">
<p>
sac-format is <b>easy</b>&#x2014;single-header makes integration in any project simple.
Installation is easy with our automatic installers. Building is a breeze with
<a href="https://cmake.org/">CMake</a>, even on different platforms. Object-oriented design makes use easy and
intuitive. See the <a href="#orgc489e60">Quickstart</a> section to get up and running.
</p>
</div>
</div>

<div id="outline-container-orgd633565" class="outline-4">
<h4 id="orgd633565"><span class="section-number-4">1.1.4.</span> Small</h4>
<div class="outline-text-4" id="text-1-1-4">
<p>
sac-format is <b>small</b>&#x2014;in total (header + implementation&#x2013;excluding comments) the
library is under 2100&lowast; lines of code. Small size opens the door to using on any
sort of hardware (old or new) and makes it easy to expand upon.
</p>

<p>
&lowast; This value includes only the library, excluding all testing/benchmarking
and example codes. Including <code>utests.cpp</code>, <code>benchmark.cpp</code>, <code>util.hpp</code>, the example
program (<code>list_sac</code>), and sac-format totals just over 5100 lines of code.
</p>
</div>
</div>

<div id="outline-container-org4520912" class="outline-4">
<h4 id="org4520912"><span class="section-number-4">1.1.5.</span> Documented</h4>
<div class="outline-text-4" id="text-1-1-5">
<p>
sac-format is extensively <b>documented</b>&#x2014;both online and in the code. Nothing&rsquo;s
hidden&#x2014;nothing&rsquo;s obscured. Curious how something works? Check the
documentation and in-code comments.
</p>
</div>
</div>

<div id="outline-container-org18704c0" class="outline-4">
<h4 id="org18704c0"><span class="section-number-4">1.1.6.</span> Transparent</h4>
<div class="outline-text-4" id="text-1-1-6">
<p>
sac-format is <b>transparent</b>&#x2014;all analysis and coverage information is publicly
available online.
</p>

<ul class="org-ul">
<li><a href="https://www.codefactor.io/repository/github/arbcoding/sac-format">CodeFactor</a></li>
<li><a href="https://app.codacy.com/gh/arbCoding/sac-format/dashboard">Codacy</a></li>
<li><a href="https://app.codecov.io/gh/arbCoding/sac-format">CodeCov</a></li>
<li><a href="https://scan.coverity.com/projects/arbcoding-sac-format">Coverity Scan</a></li>
</ul>
</div>
</div>

<div id="outline-container-orge95da1a" class="outline-4">
<h4 id="orge95da1a"><span class="section-number-4">1.1.7.</span> Trace Class</h4>
<div class="outline-text-4" id="text-1-1-7">
<p>
sac-format includes the <code>Trace</code> class for seismic traces, providing high-level
object-oriented abstraction to seismic data. With the <code>Trace</code> class, you don&rsquo;t
need to worry about manually reading SAC-files word-by-word. It&rsquo;s compatible
with <code>v6</code> and <code>v7</code> SAC-files and can automatically detect the version upon reading.
File output defaults to <code>v7</code> SAC-files and there is a <code>legacy_write</code> function for <code>v6</code>
output.
</p>
</div>
</div>

<div id="outline-container-org3d7b5a4" class="outline-4">
<h4 id="org3d7b5a4"><span class="section-number-4">1.1.8.</span> Low-Level I/O</h4>
<div class="outline-text-4" id="text-1-1-8">
<p>
If you want to roll your own SAC-file processing workflow you can use the
low-level I/O functionality built into sac-format. All functions tested and
confirmed working&#x2014;they&rsquo;re used to build the <code>Trace</code> class!
</p>
</div>
</div>
</div>
</div>

<div id="outline-container-orgc489e60" class="outline-2">
<h2 id="orgc489e60"><span class="section-number-2">2.</span> Quickstart</h2>
<div class="outline-text-2" id="text-2">
</div>
<div id="outline-container-org65dc5e3" class="outline-3">
<h3 id="org65dc5e3"><span class="section-number-3">2.1.</span> Installation</h3>
<div class="outline-text-3" id="text-2-1">
<p>
The easiest way to use sac-format is to install it via the automatic installers.
Installers for the latest release are located <a href="https://github.com/arbCoding/sac-format/releases/latest">here</a>. Be sure to check the sha512
checksum of the installer against its correspondingly named <code>.sha515</code> file to
ensure the file is safe (for example: <code>sac-format.pkg</code> corresponds to
<code>sac-format.pkg.sha512</code>).
</p>
</div>

<div id="outline-container-org9207faf" class="outline-4">
<h4 id="org9207faf"><span class="section-number-4">2.1.1.</span> Windows</h4>
<div class="outline-text-4" id="text-2-1-1">
<p>
sac-format provides a graphical installer on Windows (<code>sac-format.exe</code>).
</p>

<p>
Always check the sha512 checksum value of the installer (<code>sac-format.exe</code>; <a href="https://learn.microsoft.com/en-us/powershell/module/microsoft.powershell.utility/get-filehash?view=powershell-7.4">more
info here</a>) against <code>sac-format.exe.sha512</code>.
</p>

<p>
By default, Microsoft Defender will block the installer with a pop-up like that one below:
</p>


<div id="org789c919" class="figure">
<p><img src="./screenshots/Windows/warning_1_install.png" alt="warning_1_install.png" width="350px" />
</p>
</div>

<p>
To continue the install, click on the &rsquo;More Info&rsquo; link and then the &rsquo;Run anyway&rsquo;
button as seen in the following image:
</p>


<div id="orgb357c7f" class="figure">
<p><img src="./screenshots/Windows/warning_2_install.png" alt="warning_2_install.png" width="350px" />
</p>
</div>

<p>
Then the installer will open and present you with the welcome screen:
</p>


<div id="orgb6f5753" class="figure">
<p><img src="./screenshots/Windows/intro_install.png" alt="intro_install.png" width="500px" />
</p>
</div>

<p>
By default, sac-format installs in <code>C:/Program Files/sac-format</code> as seen in the screen below:
</p>


<div id="org8a71b0d" class="figure">
<p><img src="./screenshots/Windows/location_install.png" alt="location_install.png" width="500px" />
</p>
</div>

<p>
Because all programs in sac-format are command-line based feel free to disable Start Menu shortcuts:
</p>


<div id="orgd9b6d75" class="figure">
<p><img src="./screenshots/Windows/no_shortcuts_install.png" alt="no_shortcuts_install.png" width="500px" />
</p>
</div>

<p>
Upon successful install of sac-format you will see this window:
</p>


<div id="org825dff0" class="figure">
<p><img src="./screenshots/Windows/successful_install.png" alt="successful_install.png" width="500px" />
</p>
</div>
</div>
</div>

<div id="outline-container-org1be4ffd" class="outline-4">
<h4 id="org1be4ffd"><span class="section-number-4">2.1.2.</span> macOS</h4>
<div class="outline-text-4" id="text-2-1-2">
<p>
sac-format provides both command line and graphical installers on macOS.
</p>
</div>

<ol class="org-ol">
<li><a id="orge091662"></a>Graphical<br />
<div class="outline-text-5" id="text-2-1-2-1">
<p>
The graphical installer is <code>sac-format.pkg</code> and will walk you through the
installation process. <b>NOTE</b>: the default installation location is
<code>/opt/sac-format</code>.
</p>

<p>
By default, macOS will block the installer. To install, right-click on
<code>sac-format.pkg</code> and select open. A warning will pop up that looks like:
</p>

<div id="org009ea42" class="figure">
<p><img src="./screenshots/macOS/warning_install.png" alt="warning_install.png" width="400px" />
</p>
</div>

<p>
Simply click &rsquo;Open&rsquo; and the installer will begin from the first screen:
</p>

<div id="org400dc06" class="figure">
<p><img src="./screenshots/macOS/intro_install.png" alt="intro_install.png" width="600px" />
</p>
</div>

<p>
Upon successfull installation you will see:
</p>

<div id="org3adea4b" class="figure">
<p><img src="./screenshots/macOS/successful_install.png" alt="successful_install.png" width="600px" />
</p>
</div>
</div>
</li>

<li><a id="org3278f1d"></a>Command line<br />
<div class="outline-text-5" id="text-2-1-2-2">
<p>
Command line installation is performed either using the self-extrating archive
or by manually extracting the gzipped tar archive.
</p>
</div>

<ol class="org-ol">
<li><a id="orgdab555d"></a>Self-Extracting Archive<br />
<div class="outline-text-6" id="text-2-1-2-2-1">
<div class="org-src-container">
<pre class="src src-bash"># Check the sha512 checksum
sha512sum -c sac-format-&lt;version&gt;-Darwin-&lt;arch&gt;.sh.sha512
# Run self-extracting archive
bash sac-format-&lt;version&gt;-Darwin-&lt;arch&gt;.sh
</pre>
</div>

<p>
Be sure to replace <code>&lt;version&gt;</code> and <code>&lt;arch&gt;</code> with the correct versions and
architectures, respectively (for example: <code>sac-format-0.4.0-Darwin-x86_64.sh</code>).
</p>
</div>
</li>

<li><a id="org30df487"></a>Gzipped Tar Archive<br />
<div class="outline-text-6" id="text-2-1-2-2-2">
<div class="org-src-container">
<pre class="src src-bash"># Check the sha512 checksum
sha512sum -c sac-format-&lt;version&gt;-Darwin-&lt;arch&gt;.tar.gz.sha512
# Extract Gzipped tar archive
tar -xzf sac-format-&lt;version&gt;-Darwin-&lt;arch&gt;.tar.gz
</pre>
</div>
</div>
</li>
</ol>
</li>
</ol>
</div>

<div id="outline-container-orge36e4f0" class="outline-4">
<h4 id="orge36e4f0"><span class="section-number-4">2.1.3.</span> Linux</h4>
<div class="outline-text-4" id="text-2-1-3">
<p>
sac-format provides four different command line installation methods on Linux.
</p>

<p>
<a href="https://www.debian.org/">Debian</a> based distributions (for example: Debian, Ubuntu, Linux Mint) can use the
Debian Archive.
</p>

<p>
<a href="https://www.redhat.com/">RedHat</a> based distributions (for example: RedHat, Fedora, CentOS) can use the RPM
Archive.
</p>

<p>
All distributions can use the Self-Extracting Archive.
</p>

<p>
All distributions can use the Gzipped Tar Archive.
</p>
</div>

<ol class="org-ol">
<li><a id="org5bf8d9c"></a>Debian Archive<br />
<div class="outline-text-6" id="text-2-1-3-0-1">
<div class="org-src-container">
<pre class="src src-bash"># Check the sha512 checksum
sha512sum -c sac-format.deb.sha512
# Install using apt
sudo apt install ./sac-format.deb
</pre>
</div>
</div>
</li>

<li><a id="orge0fc1db"></a>RPM Archive<br />
<div class="outline-text-6" id="text-2-1-3-0-2">
<div class="org-src-container">
<pre class="src src-bash"># Check the sha512 checksum
sha512sum -c sac-format.rpm.sha512
# Install using rpm
sudo rpm -i sac-format.rpm
</pre>
</div>
</div>
</li>

<li><a id="orgef61779"></a>Self-Extrating Archive<br />
<div class="outline-text-6" id="text-2-1-3-0-3">
<div class="org-src-container">
<pre class="src src-bash"># Check the sha512 checksum
sha512sum -c sac-format-&lt;version&gt;-Linux-&lt;arch&gt;.sh.sha512
# Run self-extrating archive
bash sac-format-&lt;version&gt;-Linux-&lt;arch&gt;.sh
</pre>
</div>
</div>
</li>


<li><a id="org6ecc4ab"></a>Gzipped Tar Archive<br />
<div class="outline-text-6" id="text-2-1-3-0-4">
<div class="org-src-container">
<pre class="src src-bash"># Check the sha512 checksum
sha512sum -c sac-format-&lt;version&gt;-Linux-&lt;arch&gt;.tar.gz.sha512
# Extract gzipped tar archive
tar -xzf sac-format-&lt;version&gt;-Linux-&lt;arch&gt;.tar.gz
</pre>
</div>
</div>
</li>
</ol>
</div>
</div>

<div id="outline-container-org8f93aed" class="outline-3">
<h3 id="org8f93aed"><span class="section-number-3">2.2.</span> Build Instructions</h3>
<div class="outline-text-3" id="text-2-2">
<p>
Building is as easy as cloning the repository, running CMake for your preferred
build tool, and then building.
</p>
</div>

<div id="outline-container-orgf7f9798" class="outline-4">
<h4 id="orgf7f9798"><span class="section-number-4">2.2.1.</span> GCC</h4>
<div class="outline-text-4" id="text-2-2-1">
<div class="org-src-container">
<pre class="src src-bash">git clone https://github.com/arbCoding/sac-format.git
cmake --preset gcc-release
cmake --build ./build/release/gcc
</pre>
</div>
</div>
</div>

<div id="outline-container-org9add1b1" class="outline-4">
<h4 id="org9add1b1"><span class="section-number-4">2.2.2.</span> Clang</h4>
<div class="outline-text-4" id="text-2-2-2">
<div class="org-src-container">
<pre class="src src-bash">git clone https://github.com/arbCoding/sac-format.git
cmake --preset clang-release
cmake --build ./build/release/clang
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgd78f199" class="outline-3">
<h3 id="orgd78f199"><span class="section-number-3">2.3.</span> Use</h3>
<div class="outline-text-3" id="text-2-3">
<p>
To use link to the compiled library (<code>libsac-format.a</code> on Linux/macOS,
<code>sac-format.lib</code> on Windows) and include <code>sac_format.hpp</code>.
</p>
</div>
</div>

<div id="outline-container-org3253198" class="outline-3">
<h3 id="org3253198"><span class="section-number-3">2.4.</span> Example Programs</h3>
<div class="outline-text-3" id="text-2-4">
</div>
<div id="outline-container-orgffbd0f1" class="outline-4">
<h4 id="orgffbd0f1"><span class="section-number-4">2.4.1.</span> <code>list_sac</code></h4>
<div class="outline-text-4" id="text-2-4-1">
<p>
<code>list_sac</code> is a command line program that takes a single SAC-file as its input
argument. It reads the SAC-file and outputs the header/footer information, as
well as the true size of the <a href="#orgb5642bb"><code>data1</code></a> and <a href="#org9db3d96"><code>data2</code></a> vectors.
</p>
</div>
</div>
</div>

<div id="outline-container-org64ac044" class="outline-3">
<h3 id="org64ac044"><span class="section-number-3">2.5.</span> CMake Integration</h3>
<div class="outline-text-3" id="text-2-5">
<p>
To integrate sac-format into your CMake project, add it to your <code>CMakeLists.txt</code>.
</p>

<div class="org-src-container">
<pre class="src src-cmake">include(FetchContent)
set(FETCHCONTENT_UPDATES_DISCONNECTED TRUE)
FetchContent_Declare(sac-format
    GIT_REPOSITORY https://github.com/arbCoding/sac-format
    GIT_TAG vX.X.X)
FetchContent_MakeAvailable(sac-format)
include_directory(${sacformat_SOURCE_DIR/src})

project (your_project
    LANGUAGES CXX)

add_executable(your_executable
    your_sources
    sac_format.hpp)

target_link_libraries_library(your_executable
    PRIVATE sac-format)
</pre>
</div>
</div>
</div>

<div id="outline-container-org9bffd7d" class="outline-3">
<h3 id="org9bffd7d"><span class="section-number-3">2.6.</span> Example</h3>
<div class="outline-text-3" id="text-2-6">
</div>
<div id="outline-container-org7433609" class="outline-4">
<h4 id="org7433609"><span class="section-number-4">2.6.1.</span> Reading and Writing</h4>
<div class="outline-text-4" id="text-2-6-1">
<div class="org-src-container">
<pre class="src src-cpp" id="orgb6cc760">#include &lt;filesystem&gt;
#include &lt;iostream&gt;
#include &lt;sac_format.hpp&gt;

using namespace sacfmt;
namespace fs = std::filesystem;

int main() {
    Trace trace1{};
    // Change header variable
    trace1.kstnm("Station1");
    fs::path file{"./test.SAC"};
    // Write
    trace1.write(file);
    // Read
    Trace trace2 = Trace(file);
    // Confirm equality
    std::cout &lt;&lt; (trace1 == trace2) &lt;&lt; '\n';
    fs::remove(file);
    return EXIT_SUCCESS;
}
</pre>
</div>
</div>
</div>
</div>
</div>

<div id="outline-container-org83b28b1" class="outline-2">
<h2 id="org83b28b1"><span class="section-number-2">3.</span> Documentation</h2>
<div class="outline-text-2" id="text-3">
</div>
<div id="outline-container-org8db1ebd" class="outline-3">
<h3 id="org8db1ebd"><span class="section-number-3">3.1.</span> Trace class</h3>
<div class="outline-text-3" id="text-3-1">
<p>
The <code>Trace</code> class provides easy access to SAC-files in C++. Each SAC-file is a
<code>Trace</code>; therefore, each <code>Trace</code> object is a seismic trace (seismogram).
</p>
</div>

<div id="outline-container-orgc1b9361" class="outline-4">
<h4 id="orgc1b9361"><span class="section-number-4">3.1.1.</span> Reading SAC</h4>
<div class="outline-text-4" id="text-3-1-1">
<p>
SAC-files can be read in by using the parameterized constructor with a
<a href="https://en.cppreference.com/w/cpp/filesystem/path"><code>std::filesystem::path</code></a> (<a href="https://en.cppreference.com/w/cpp/header/filesystem"><code>&lt;filesystem&gt;</code></a>) or a <a href="https://en.cppreference.com/w/cpp/string/basic_string"><code>std::string</code></a> (<a href="https://en.cppreference.com/w/cpp/header/string"><code>&lt;string&gt;</code></a>)
variable that corresponds to the location of the SAC-file.
</p>

<p>
For example:
</p>
<div class="org-src-container">
<pre class="src src-C++">#include &lt;filesystem&gt;
#include &lt;sac_foramt.hpp&gt;

int main() {
  std::filesystem::path my_file{"/home/user/data/ANMO.SAC"};
  sacfmt::Trace anmo = sacfmt::Trace(my_file);
  return EXIT_SUCCESS;
}
</pre>
</div>
</div>
</div>

<div id="outline-container-org38b2a77" class="outline-4">
<h4 id="org38b2a77"><span class="section-number-4">3.1.2.</span> Writing SAC</h4>
<div class="outline-text-4" id="text-3-1-2">
<p>
Writing SAC files can be done using one of two write functions.
</p>
</div>

<ol class="org-ol">
<li><a id="org6c44523"></a><code>v7</code> files<br />
<div class="outline-text-5" id="text-3-1-2-1">
<p>
Use <code>write</code> (for example <code>trace.write(filename)</code>).
</p>
</div>
</li>
<li><a id="org98553a0"></a><code>v6</code> files<br />
<div class="outline-text-5" id="text-3-1-2-2">
<p>
Use <code>legacy_write</code> (for example <code>trace.legacy_write(filename)</code>).
</p>
</div>
</li>
</ol>
</div>

<div id="outline-container-org89e1dca" class="outline-4">
<h4 id="org89e1dca"><span class="section-number-4">3.1.3.</span> Getters and Setters</h4>
<div class="outline-text-4" id="text-3-1-3">
<p>
Every <a href="#org3ab6c0a">SAC variable</a> is accessed via getters and setters of the same name.
</p>
</div>

<ol class="org-ol">
<li><a id="orgf2559d5"></a>Example Getters<br />
<div class="outline-text-5" id="text-3-1-3-1">
<ul class="org-ul">
<li><code>trace.npts()</code></li>
<li><code>trace.data1()</code></li>
<li><code>trace.kstnm()</code></li>
</ul>
</div>
</li>

<li><a id="org242c1ee"></a>Example Setters<br />
<div class="outline-text-5" id="text-3-1-3-2">
<ul class="org-ul">
<li><code>trace.kevnm("Event 1")</code></li>
<li><code>trace.evla(32.89)</code></li>
<li><code>trace.mag(3.21)</code></li>
</ul>
</div>
</li>

<li><a id="org31bcc94"></a>Setter rules<br />
<div class="outline-text-5" id="text-3-1-3-3">
<p>
Most of the setters are only constrained by the parameter type
(single-precision, double-precision, boolean, etc.). <b>Some</b> setters are
constrained by additional rules.
</p>
</div>

<ol class="org-ol">
<li><a id="orgc286942"></a>Required for sanity<br />
<div class="outline-text-6" id="text-3-1-3-3-1">
<p>
Rules here are required because the sac-format library assumes them (not
strictly required by the SAC format standard). For instance, the geometric
functions assume certain bounds on latitudes and longitudes. sac-format
automatically imposes these rules.
</p>
</div>

<ol class="org-ol">
<li><a id="orgdff9b39"></a><code>stla(input)</code><br />
<div class="outline-text-7" id="text-3-1-3-3-1-1">
<p>
Limited to \([-90, 90]\) degrees, input that is outside that range is reduced
using circular symmetry.
</p>
</div>
</li>

<li><a id="orgb8d0c24"></a><code>stlo(input)</code><br />
<div class="outline-text-7" id="text-3-1-3-3-1-2">
<p>
Limited to \([-180, 180]\) degrees, input that is outside that range is reduced
using circular symmetry.
</p>
</div>
</li>

<li><a id="org34a11c7"></a><code>evla(input)</code><br />
<div class="outline-text-7" id="text-3-1-3-3-1-3">
<p>
Limited to \([-90, 90]\) degrees, input that is outside that range is reduced
using circular symmetry.
</p>
</div>
</li>

<li><a id="org6249bad"></a><code>evlo(input)</code><br />
<div class="outline-text-7" id="text-3-1-3-3-1-4">
<p>
Limited to \([-180, 180]\) degrees, input that is outside that range is reduced
using circular symmetry.
</p>
</div>
</li>
</ol>
</li>

<li><a id="org256eb1e"></a>Required for safety<br />
<div class="outline-text-6" id="text-3-1-3-3-2">
<p>
Rules here are required by the SAC format standard. sac-format automatically
imposes these rules to prevent the creation of corrupt sac-files.
</p>
</div>

<ol class="org-ol">
<li><a id="org4137126"></a><code>npts(input)</code><br />
<div class="outline-text-7" id="text-3-1-3-3-2-1">
<p>
Because <code>npts</code> defines the size of the data vectors, changing this value will
change the size of <code>data1</code> and <code>data2</code>&lowast;. Increasing npts resizes the vectors
(<a href="https://en.cppreference.com/w/cpp/container/vector/resize">std::vector::resize</a>) by placing zeros at the <b>end</b> of the vectors. Reducing npts
resizes the vectors down to the <b>first npts</b> values.
</p>

<p>
Therefore, care must be taken to maintain separate copies of <code>data1</code> and
<code>data2</code>&lowast; if you plan to manipulate the original data <b>after</b> resizing.
</p>

<p>
&lowast; data2 has <code>npts</code> only if it is legal, otherwise it is of size 0.
</p>
</div>
</li>

<li><a id="orgf72fea6"></a><code>leven(input)</code><br />
<div class="outline-text-7" id="text-3-1-3-3-2-2">
<p>
Changing the value of <code>leven</code> potentially changes the legality of <code>data2</code>, it also
potentially affects the value of <code>iftype</code>.
</p>

<p>
If iftype\(>1\), then leven must be <code>true</code> (evenly sampled data). Therefore, if
leven is made <code>false</code> in this scenario (unevenly sampled data) then iftype becomes
unset&lowast;.
</p>

<p>
If changing leven makes data2 legal&lowast;&lowast;, then data2 is resized to have
<code>npts</code> zeros.
</p>

<p>
&lowast; The SAC format defines the unset values for all data-types. For integers
(like iftype) it is the integer value <code>-12345</code>.
</p>

<p>
&lowast;&lowast; If data2 was already legal, then it is unaffected.
</p>
</div>
</li>

<li><a id="org58827cb"></a><code>iftype(input)</code><br />
<div class="outline-text-7" id="text-3-1-3-3-2-3">
<p>
Changing the value of <code>iftype</code> poentially changes the legality of <code>data2</code>, it also potentially affects the value of <code>leven</code>.
</p>

<p>
If leven is <code>false</code>, then iftype must be either 1 or unset. Therefore, changing
iftype to have a value \(>1\) requires that leven becomes <code>true</code> (evenly sampled
data).
</p>

<p>
If changing iftype makes data2 legal&lowast;, then data2 is resized to have <code>npts</code> zeros.
</p>

<p>
&lowast; If data2 was already legal, then it is unaffected.
</p>
</div>
</li>

<li><a id="org4498034"></a><code>data1(input)</code><br />
<div class="outline-text-7" id="text-3-1-3-3-2-4">
<p>
If the size of <code>data1</code> is changed, then <code>npts</code> must change to reflect the new size.
If <code>data2</code> is legal, this adjusts its size to match as well.
</p>
</div>
</li>

<li><a id="org1c3e090"></a><code>data2(input)</code><br />
<div class="outline-text-7" id="text-3-1-3-3-2-5">
<p>
If the size of <code>data2</code> is changed to be larger than 0 and it is illegal, it is
made legal by setting <code>iftype(2)</code> (spectral-data).
</p>

<p>
When the size of data2 changes, <code>npts</code> is updated to the new size and <code>data1</code> is
resized to match.
</p>

<p>
If <code>data2</code> is made illegal, its size is reduced to 0 while <code>npts</code> and <code>data1</code> are
unaffected.
</p>
</div>
</li>
</ol>
</li>
</ol>
</li>
</ol>
</div>
<div id="outline-container-org795a0c6" class="outline-4">
<h4 id="org795a0c6"><span class="section-number-4">3.1.4.</span> Internal Structure</h4>
<div class="outline-text-4" id="text-3-1-4">
<p>
The SAC-trace stores the data internally in a series of pre-allocated
<a href="https://en.cppreference.com/w/cpp/container/array"><code>std::array</code></a> (<a href="https://en.cppreference.com/w/cpp/header/array"><code>&lt;array&gt;</code></a>) container objects. <a href="#org89e1dca">Getters and setters</a> access these via
a <a href="#org698c515">lookup table</a>. The internal components are below:
</p>
</div>

<ol class="org-ol">
<li><a id="org698c515"></a>Lookup Table<br />
<div class="outline-text-5" id="text-3-1-4-1">
<p>
<code>sac_map</code>
</p>
</div>
</li>

<li><a id="org1f42e3c"></a><code>floats</code> array<br /></li>

<li><a id="org1905bba"></a><code>doubles</code> array<br /></li>

<li><a id="orgcc18ce9"></a><code>ints</code> array<br /></li>

<li><a id="org00e3bd8"></a><code>bools</code> array<br /></li>

<li><a id="org33c8583"></a><code>strings</code> array<br /></li>

<li><a id="org619f845"></a><code>data</code> array<br /></li>
</ol>
</div>

<div id="outline-container-orgedabc63" class="outline-4">
<h4 id="orgedabc63"><span class="section-number-4">3.1.5.</span> Convenience Methods</h4>
<div class="outline-text-4" id="text-3-1-5">
<ul class="org-ul">
<li><code>calc_geometry</code></li>
</ul>

<p>
Calculate <code>gcarc</code>, <code>dist</code>, <code>az</code>, and <code>baz</code> assuming spherical Earth.
</p>
<div class="org-src-container">
<pre class="src src-C++">trace.stla(45.3);
trace.stlo(34.5);
trace.evla(18.5);
trace.evlo(-34);
trace.calc_geometry();
std::cout &lt;&lt; "GcArc: " &lt;&lt; trace.gcarc() &lt;&lt; '\n';
std::cout &lt;&lt; "Dist: " &lt;&lt; trace.dist() &lt;&lt; '\n';
std::cout &lt;&lt; "Azimuth: " &lt;&lt; trace.az() &lt;&lt; '\n';
std::cout &lt;&lt; "BAzimuth: " &lt;&lt; trace.baz() &lt;&lt; '\n';
</pre>
</div>
<ul class="org-ul">
<li><code>frequency</code></li>
</ul>

<p>
Calculate frequency from <code>delta</code>.
</p>
<div class="org-src-container">
<pre class="src src-C++">double frequency{trace.frequency()};
</pre>
</div>
<ul class="org-ul">
<li><code>date</code></li>
</ul>

<p>
Return <code>std::string</code> formatted as <code>YYYY-JJJ</code> from <code>nzyear</code> and <code>nzjday</code>.
</p>
<div class="org-src-container">
<pre class="src src-C++">std::string date{trace.date()};
</pre>
</div>
<ul class="org-ul">
<li><code>time</code></li>
</ul>

<p>
Return <code>std::string</code> formatted as <code>HH:MM:SS.xxx</code> from <code>nzhour</code>, <code>nzmin</code>, <code>nzsec</code>, and
<code>nzmsec</code>.
</p>
<div class="org-src-container">
<pre class="src src-C++">std::string time{trace.time()};
</pre>
</div>
</div>
</div>

<div id="outline-container-org5431d9f" class="outline-4">
<h4 id="org5431d9f"><span class="section-number-4">3.1.6.</span> Exceptions</h4>
<div class="outline-text-4" id="text-3-1-6">
<p>
sac-format throws exceptions of type <code>sacfmt::io_error</code> (inherits
<a href="https://en.cppreference.com/w/cpp/error/exception"><code>std::exception</code></a>) in the event of a failure to read/write a SAC-file.
</p>
</div>
</div>
</div>

<div id="outline-container-org14cdd10" class="outline-3">
<h3 id="org14cdd10"><span class="section-number-3">3.2.</span> Convenience Functions</h3>
<div class="outline-text-3" id="text-3-2">
<ul class="org-ul">
<li><code>degrees_to_radians</code></li>
</ul>

<p>
Convert decimal degrees to radians.
</p>
<div class="org-src-container">
<pre class="src src-C++">double radians{sacfmt::degrees_to_radians(degrees)};
</pre>
</div>
<ul class="org-ul">
<li><code>radians_to_degrees</code></li>
</ul>

<p>
Convert radians to decimal degrees.
</p>
<div class="org-src-container">
<pre class="src src-C++">double degrees{sacfmt::radians_to_degrees(radians)};
</pre>
</div>
<ul class="org-ul">
<li><code>gcarc</code></li>
</ul>

<p>
Calculate great-circle arc distance (spherical planet).
</p>
<div class="org-src-container">
<pre class="src src-C++">double gcarc{sacfmt::gcarc(latitude1, longitude1, latitude2, longitude2)};
</pre>
</div>
<ul class="org-ul">
<li><code>azimuth</code></li>
</ul>

<p>
Calculate azimuth between two points (spherical planet).
</p>
<div class="org-src-container">
<pre class="src src-C++">double azimuth{sacfmt::azimuth(latitude2, longitude2, latitude1, longitude1)};
double back_azimuth{sacfmt::azimuth(latitude1, longitude1, latitude2, longitude2)};
</pre>
</div>
<ul class="org-ul">
<li><code>limit_360</code></li>
</ul>

<p>
Take arbitrary value of degrees and unwrap to \([0, 360]\).
</p>
<div class="org-src-container">
<pre class="src src-C++">double degrees_limited{sacfmt::limit_360(degrees)};
</pre>
</div>
<ul class="org-ul">
<li><code>limit_180</code></li>
</ul>

<p>
Take arbitrary value of degrees and unwrap to \([-180, 180]\). Useful for
longitude.
</p>
<div class="org-src-container">
<pre class="src src-C++">double degrees_limited{sacfmt::limit_180(degrees)};
</pre>
</div>
<ul class="org-ul">
<li><code>limit_90</code></li>
</ul>

<p>
Take arbitrary value of degrees and unwrap to \([-90, 90]\). Useful for latitude.
</p>
<div class="org-src-container">
<pre class="src src-C++">double degrees_limited{sacfmt::limit_90(degrees)};
</pre>
</div>
</div>
</div>

<div id="outline-container-orga7ca1a0" class="outline-3">
<h3 id="orga7ca1a0"><span class="section-number-3">3.3.</span> Low-Level I/O</h3>
<div class="outline-text-3" id="text-3-3">
<p>
Low-level I/O functions are discussed below.
</p>
</div>

<ol class="org-ol">
<li><a id="org85f426d"></a>Binary conversion<br />
<ol class="org-ol">
<li><a id="org3125811"></a><code>int_to_binary</code> and <code>binary_to_int</code><br />
<div class="outline-text-6" id="text-3-3-0-1-1">
<p>
Conversion pair for binary representation of integer values.
</p>
<div class="org-src-container">
<pre class="src src-C++">const int input{10};
// sacfmt::word_one is alias for std::bitset&lt;32&gt; (one word)
sacfmt::word_one binary{sacfmt::int_to_binary(input)};
const int output{sacfmt::binary_to_int(binary)};
std::cout &lt;&lt; (input == output) &lt;&lt; '\n';
</pre>
</div>
</div>
</li>

<li><a id="org148b67f"></a><code>float_to_binary</code> and <code>binary_to_float</code><br />
<div class="outline-text-6" id="text-3-3-0-1-2">
<p>
Conversion pair for binary representation of floating-point values.
</p>
<div class="org-src-container">
<pre class="src src-C++">const float input{5F};
sacfmt::word_one binary{sacfmt::float_to_binary(input)};
const float output{sacfmt::binary_to_float(binary)};
std::cout &lt;&lt; (input == output) &lt;&lt; '\n';
</pre>
</div>
</div>
</li>

<li><a id="org52113b6"></a><code>double_to_binary</code> and <code>binary_to_double</code><br />
<div class="outline-text-6" id="text-3-3-0-1-3">
<p>
Conversion pair for binary representation of double-precision values.
</p>
<div class="org-src-container">
<pre class="src src-C++">const double input{1e5};
// sacfmt::word_two is alias for std::bitset&lt;64&gt; (two words)
sacfmt::word_two binary{sacfmt::double_to_binary(input)};
const double output{sacfmt::binary_to_double(binary)};
std::cout &lt;&lt; (input == output) &lt;&lt; '\n';
</pre>
</div>
</div>
</li>

<li><a id="org6488505"></a><code>string_to_binary</code> and <code>binary_to_string</code><br />
<div class="outline-text-6" id="text-3-3-0-1-4">
<p>
Conversion pair for binary representation of two-word (regular) string values.
</p>
<div class="org-src-container">
<pre class="src src-C++">const std::string input{"NmlStrng"};
sacfmt::word_two binary{sacfmt::string_to_binary(input)};
const std::string output{sacfmt::binary_to_string(binary)};
std::cout &lt;&lt; (input == output) &lt;&lt; '\n';
</pre>
</div>
</div>
</li>

<li><a id="orga95daff"></a><code>long_string_to_binary</code> and <code>binary_to_long_string</code><br />
<div class="outline-text-6" id="text-3-3-0-1-5">
<p>
Conversion pair for binary representation of four-word (only <a href="#org9004032"><code>kstnm</code></a>) string
values.
</p>
<div class="org-src-container">
<pre class="src src-C++">const std::string input{"The Long String"};
// sacfmt::word_four is alias for std::bitset&lt;128&gt; (four words)
sacfmt::word_four binary{sacfmt::long_string_to_binary(input)};
const std::string output{sacfmt::binary_to_long_string(binary)};
std::cout &lt;&lt; (input == output) &lt;&lt; '\n';
</pre>
</div>
</div>
</li>
</ol>
</li>

<li><a id="org19f5dd6"></a>Reading/Writing<br />
<div class="outline-text-5" id="text-3-3-0-2">
<p>
<b>NOTE</b> that care must be taken when using them to ensure that safe input is
provided; the <code>Trace</code> class ensures safe I/O, low-level I/O functions do not
necessarily ensure safety.
</p>
</div>

<ol class="org-ol">
<li><a id="org1b6ab19"></a><code>read_word</code>, <code>read_two_words</code>, <code>read_four_words</code>, and <code>read_data</code><br />
<div class="outline-text-6" id="text-3-3-0-2-1">
<p>
Functions to read one-, two-, and four-word variables (depending on the header)
and an arbitrary amount of binary data (exclusive to <code>data1</code> and <code>data2</code>).
</p>
</div>
</li>

<li><a id="orgccab0ba"></a><code>convert_to_word</code>, <code>convert_to_words</code>, and <code>bool_to_word</code><br />
<div class="outline-text-6" id="text-3-3-0-2-2">
<p>
Takes objects and converts them into <code>std::vector&lt;char&gt;</code> (<code>convert_to_word</code> and
<code>bool_to_word</code>) or <code>std::array&lt;char, N&gt;</code> (<code>convert_to_words</code>, N = # of words).
</p>
</div>
</li>

<li><a id="orge564170"></a><code>write_words</code><br />
<div class="outline-text-6" id="text-3-3-0-2-3">
<p>
Writes input words (as <code>std::vector&lt;char&gt;</code>) to a binary SAC-file.
</p>
</div>
</li>
</ol>
</li>

<li><a id="org2fddfae"></a>Utility<br />
<ol class="org-ol">
<li><a id="orgc299036"></a><code>concat_words</code><br />
<div class="outline-text-6" id="text-3-3-0-3-1">
<p>
Concatenates words taking into account the system endianness.
</p>
</div>
</li>

<li><a id="org005fd23"></a><code>bits_string</code> and <code>string_bits</code><br />
<div class="outline-text-6" id="text-3-3-0-3-2">
<p>
Template function that performs conversion of binary strings of arbitrary length
to an arbitrary number of words.
</p>
</div>
</li>

<li><a id="org162dcd0"></a><code>remove_leading_spaces</code> and <code>remove_trailing_spaces</code><br />
<div class="outline-text-6" id="text-3-3-0-3-3">
<p>
Remove leading and trailing blank spaces from strings assuming ASCII convention
(space character is integer 32, below that value are control characters that
also appear as blank spaces).
</p>
</div>
</li>

<li><a id="org1b95f51"></a><code>string_cleaning</code><br />
<div class="outline-text-6" id="text-3-3-0-3-4">
<p>
Ensures string does not contain an internal termination character (<code>\0</code>) and
removes it if present, then removes blank spaces.
</p>
</div>
</li>

<li><a id="org3d0d068"></a><code>prep_string</code><br />
<div class="outline-text-6" id="text-3-3-0-3-5">
<p>
Performs <code>string_cleaning</code> followed by string truncation/padding to the necessary
length.
</p>
</div>
</li>

<li><a id="org2ed689a"></a><code>equal_within_tolerance</code><br />
<div class="outline-text-6" id="text-3-3-0-3-6">
<p>
Floating-point/double-precision equality within a provided tolerance (default is
<code>f_eps</code>, defined in <code>sac_format.hpp</code>).
</p>
</div>
</li>
</ol>
</li>
</ol>
</div>

<div id="outline-container-orga3b038a" class="outline-3">
<h3 id="orga3b038a"><span class="section-number-3">3.4.</span> Testing</h3>
<div class="outline-text-3" id="text-3-4">
<p>
<code>utests.cpp</code> contains the unit- and integration-tests, using Catch2. Test coverage
details are visible on <a href="https://app.codecov.io/gh/arbCoding/sac-format">CodeCov.io</a> and <a href="https://app.codacy.com/gh/arbCoding/sac-format/dashboard">Codacy.com</a>. All tests can be locally-run
to ensure full functionality and compliance.
</p>
</div>

<div id="outline-container-orge3d8625" class="outline-4">
<h4 id="orge3d8625"><span class="section-number-4">3.4.1.</span> Errors only</h4>
<div class="outline-text-4" id="text-3-4-1">
<p>
By default <code>utests</code> prints out a pass summary, without details unless an error is
encountered.
</p>
</div>
</div>

<div id="outline-container-org4139d58" class="outline-4">
<h4 id="org4139d58"><span class="section-number-4">3.4.2.</span> Full output</h4>
<div class="outline-text-4" id="text-3-4-2">
<p>
By passing the <code>--success</code> flag (<code>utests --success</code>) you can see the full results of
all tests.
</p>
</div>
</div>

<div id="outline-container-orgec53a19" class="outline-4">
<h4 id="orgec53a19"><span class="section-number-4">3.4.3.</span> Compact output</h4>
<div class="outline-text-4" id="text-3-4-3">
<p>
The <a href="#org4139d58">full output</a> is verbose, using the compact reporter will condense the test
results (<code>utests --reporter=compact --success</code>).
</p>
</div>
</div>

<div id="outline-container-org7d79d33" class="outline-4">
<h4 id="org7d79d33"><span class="section-number-4">3.4.4.</span> Additional options</h4>
<div class="outline-text-4" id="text-3-4-4">
<p>
To see additional options, run <code>utests -?</code>.
</p>
</div>
</div>

<div id="outline-container-orgcac0b2a" class="outline-4">
<h4 id="orgcac0b2a"><span class="section-number-4">3.4.5.</span> Using ctest</h4>
<div class="outline-text-4" id="text-3-4-5">
<p>
If you have CMake install, you can run the tests using <code>ctest</code>.
</p>
</div>
</div>
</div>


<div id="outline-container-orgcb71261" class="outline-3">
<h3 id="orgcb71261"><span class="section-number-3">3.5.</span> Benchmarking</h3>
<div class="outline-text-3" id="text-3-5">
<p>
<code>benchmark.cpp</code> contains the benchmarks. Running it locally will provide
information on how long each function takes; benchmarks start with the low-level
I/O function and build up to Trace reading, writing, and equality comparison.
</p>

<p>
To view available optional flags, run <code>becnhmark -?</code>.
</p>
</div>
</div>

<div id="outline-container-org6c36b7b" class="outline-3">
<h3 id="org6c36b7b"><span class="section-number-3">3.6.</span> Source File List</h3>
<div class="outline-text-3" id="text-3-6">
</div>
<div id="outline-container-org3ec260c" class="outline-4">
<h4 id="org3ec260c"><span class="section-number-4">3.6.1.</span> Core</h4>
<div class="outline-text-4" id="text-3-6-1">
<p>
The two core files are split in the standard interface (hpp)/implementation
(cpp) format.
</p>
</div>

<ol class="org-ol">
<li><a id="orge94c1a9"></a><code>sac_format.hpp</code><br />
<div class="outline-text-5" id="text-3-6-1-1">
<p>
Interface&#x2014;function declarations and constants.
</p>
</div>
</li>

<li><a id="orgfd8021c"></a><code>sac_format.cpp</code><br />
<div class="outline-text-5" id="text-3-6-1-2">
<p>
Implementation&#x2014;function details.
</p>
</div>
</li>
</ol>
</div>

<div id="outline-container-org1ad1f42" class="outline-4">
<h4 id="org1ad1f42"><span class="section-number-4">3.6.2.</span> Testing and Benchmarking</h4>
<div class="outline-text-4" id="text-3-6-2">
</div>
<ol class="org-ol">
<li><a id="org3643713"></a><code>util.hpp</code><br />
<div class="outline-text-5" id="text-3-6-2-1">
<p>
Utility functions and constants exclusive to testing and benchmarking. Not
split into interface/implementation.
</p>
</div>
</li>

<li><a id="org1ae53aa"></a><code>utests.cpp</code><br /></li>

<li><a id="org6e62e74"></a><code>benchmark.cpp</code><br /></li>
</ol>
</div>

<div id="outline-container-org89c2d9c" class="outline-4">
<h4 id="org89c2d9c"><span class="section-number-4">3.6.3.</span> Example programs</h4>
<div class="outline-text-4" id="text-3-6-3">
</div>
<ol class="org-ol">
<li><a id="org1c2851d"></a><code>list_sac.cpp</code><br /></li>
</ol>
</div>
</div>

<div id="outline-container-orgc232bdd" class="outline-3">
<h3 id="orgc232bdd"><span class="section-number-3">3.7.</span> Dependencies</h3>
<div class="outline-text-3" id="text-3-7">
</div>
<div id="outline-container-org9326b59" class="outline-4">
<h4 id="org9326b59"><span class="section-number-4">3.7.1.</span> Automatic (CMake)</h4>
<div class="outline-text-4" id="text-3-7-1">
<ol class="org-ol">
<li><a href="https://github.com/Reputeless/Xoshiro-cpp">Xoshiro-cpp v1.12.0</a> (testing and benchmarking)</li>
<li><a href="https://github.com/catchorg/Catch2">Catch2 v3.4.0</a> (testing and benchmarking)</li>
</ol>
</div>
</div>
</div>


<div id="outline-container-org3ab6c0a" class="outline-3">
<h3 id="org3ab6c0a"><span class="section-number-3">3.8.</span> SAC-file format</h3>
<div class="outline-text-3" id="text-3-8">
<p>
The official and up-to-date documentation for the SAC-file format is available
from the EarthScope Consortium (formerly IRIS/UNAVCO) <a href="https://ds.iris.edu/files/sac-manual/manual/file_format.html">here</a>. The following
subsections constitute my notes on the format. Below is a quick guide&#x2014;all
credit for the creation of, and documentation for, the SAC file-format belongs
to its developers and maintainers (details <a href="https://ds.iris.edu/ds/nodes/dmc/software/downloads/sac/">here</a>).
</p>
</div>

<div id="outline-container-org69b54a5" class="outline-4">
<h4 id="org69b54a5"><span class="section-number-4">3.8.1.</span> Floating-point (39)</h4>
<div class="outline-text-4" id="text-3-8-1">
<p>
32-bit (1 word, 4 bytes)
</p>
</div>

<ol class="org-ol">
<li><a id="org000b2f8"></a><code>depmin</code><br />
<div class="outline-text-5" id="text-3-8-1-1">
<p>
Minimum value of the dependent variable
(displacement/velocity/acceleration/volts/counts).
</p>
</div>
</li>

<li><a id="org91a4313"></a><code>depmen</code><br />
<div class="outline-text-5" id="text-3-8-1-2">
<p>
Mean value of the dependent variable.
</p>
</div>
</li>

<li><a id="org91fc8f7"></a><code>depmax</code><br />
<div class="outline-text-5" id="text-3-8-1-3">
<p>
Maximum value of the dependent variable.
</p>
</div>
</li>

<li><a id="orge75b277"></a><code>odelta</code><br />
<div class="outline-text-5" id="text-3-8-1-4">
<p>
Modified (<i>observational</i>) value of <a href="#org5f138b3"><code>delta</code></a>.
</p>
</div>
</li>

<li><a id="org5930e78"></a><code>resp(0--9)</code><br />
<div class="outline-text-5" id="text-3-8-1-5">
<p>
Instrument response parameters (poles, zeros, and a constant).
</p>

<p>
<b>Not used by SAC</b>&#x2014;they&rsquo;re free for other purposes.
</p>
</div>
</li>

<li><a id="org65ed4bc"></a><code>stel</code><br />
<div class="outline-text-5" id="text-3-8-1-6">
<p>
Station elevation in meters above sea level (<i>m.a.s.l</i>).
</p>

<p>
<b>Not used by SAC</b>&#x2014;free for other purposes.
</p>
</div>
</li>

<li><a id="org7481764"></a><code>stdp</code><br />
<div class="outline-text-5" id="text-3-8-1-7">
<p>
Station depth in meters below surface (borehole/buried vault).
</p>

<p>
<b>Not used by SAC</b>&#x2014;free for other purposes.
</p>
</div>
</li>

<li><a id="org23a93b4"></a><code>evel</code><br />
<div class="outline-text-5" id="text-3-8-1-8">
<p>
Event elevation <i>m.a.s.l.</i>
</p>

<p>
<b>Not used by SAC</b>&#x2014;free for other purposes.
</p>
</div>
</li>

<li><a id="orgbf2dec1"></a><code>evdp</code><br />
<div class="outline-text-5" id="text-3-8-1-9">
<p>
Event depth in kilometers (<i>previously meters</i>) below surface.
</p>
</div>
</li>

<li><a id="org17552f7"></a><code>mag</code><br />
<div class="outline-text-5" id="text-3-8-1-10">
<p>
Event magnitude.
</p>
</div>
</li>

<li><a id="org2683747"></a><code>user(0--9)</code><br />
<div class="outline-text-5" id="text-3-8-1-11">
<p>
Storage for user-defined values.
</p>
</div>
</li>

<li><a id="org88a0b55"></a><code>dist</code><br />
<div class="outline-text-5" id="text-3-8-1-12">
<p>
Station&#x2013;Event distance in kilometers.
</p>
</div>
</li>

<li><a id="org9b84703"></a><code>az</code><br />
<div class="outline-text-5" id="text-3-8-1-13">
<p>
Azimuth \(\mathrm{\left(Event \to Station\right)}\), decimal degrees from North.
</p>
</div>
</li>

<li><a id="org35ee5f0"></a><code>baz</code><br />
<div class="outline-text-5" id="text-3-8-1-14">
<p>
Back-azimuth \(\mathrm{\left(Station \to Event\right)}\), decimal degrees from
North.
</p>
</div>
</li>

<li><a id="orgae8c07f"></a><code>gcarc</code><br />
<div class="outline-text-5" id="text-3-8-1-15">
<p>
Station&#x2013;Event great circle arc-length, decimal degrees.
</p>
</div>
</li>

<li><a id="orgda10470"></a><code>cmpaz</code><br />
<div class="outline-text-5" id="text-3-8-1-16">
<p>
Instrument measurement azimuth, decimal degrees from North.
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Value</th>
<th scope="col" class="org-left">Direction</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">0&deg;</td>
<td class="org-left">North</td>
</tr>

<tr>
<td class="org-left">90&deg;</td>
<td class="org-left">East</td>
</tr>

<tr>
<td class="org-left">180&deg;</td>
<td class="org-left">South</td>
</tr>

<tr>
<td class="org-left">270&deg;</td>
<td class="org-left">West</td>
</tr>

<tr>
<td class="org-left">Other</td>
<td class="org-left">1/2/3</td>
</tr>
</tbody>
</table>
</div>
</li>
<li><a id="orge21b437"></a><code>cmpinc</code><br />
<div class="outline-text-5" id="text-3-8-1-17">
<p>
Instrument measurement incident angle, decimal degrees from upward vertical
(incident 0&deg; = dip -90&deg;).
</p>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Value</th>
<th scope="col" class="org-left">Direction</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">0&deg;</td>
<td class="org-left">Up</td>
</tr>

<tr>
<td class="org-left">90&deg;</td>
<td class="org-left">Horizontal</td>
</tr>

<tr>
<td class="org-left">180&deg;</td>
<td class="org-left">Down</td>
</tr>

<tr>
<td class="org-left">270&deg;</td>
<td class="org-left">Horizontal</td>
</tr>
</tbody>
</table>
<p>
<b>NOTE:</b> SEED/MINISEED use dip angle, decimal degrees down from horizontal (dip
 0&deg; = incident 90&deg;).
</p>
</div>
</li>

<li><a id="orgc685a83"></a><code>xminimum</code><br />
<div class="outline-text-5" id="text-3-8-1-18">
<p>
Spectral-only equivalent of <a href="#org000b2f8"><code>depmin</code></a> (\(f_{0}\) or \(\omega_{0}\)).
</p>
</div>
</li>

<li><a id="orgc0b7721"></a><code>xmaximum</code><br />
<div class="outline-text-5" id="text-3-8-1-19">
<p>
Spectral-only equivalent of <a href="#org91fc8f7"><code>depmax</code></a> (\(f_{max}\) or \(\omega_{max}\)).
</p>
</div>
</li>

<li><a id="orgebd5418"></a><code>yminimum</code><br />
<div class="outline-text-5" id="text-3-8-1-20">
<p>
Spectral-only equivalent of <a href="#orgaf8a5d2"><code>b</code></a>.
</p>
</div>
</li>

<li><a id="orgc87420e"></a><code>ymaximum</code><br />
<div class="outline-text-5" id="text-3-8-1-21">
<p>
Spectral-only equivalent of <a href="#orge055e01"><code>e</code></a>.
</p>
</div>
</li>
</ol>
</div>

<div id="outline-container-org4ef913e" class="outline-4">
<h4 id="org4ef913e"><span class="section-number-4">3.8.2.</span> Double (22)</h4>
<div class="outline-text-4" id="text-3-8-2">
<p>
64-bit (2 words, 8 bytes)
</p>

<p>
<b>NOTE:</b> in the header section these are floats&#x2014;they&rsquo;re doubles in the footer
 section of <code>v7</code> SAC-files. In memory they&rsquo;re stored as doubles regardless of the
 SAC-file version.
</p>
</div>

<ol class="org-ol">
<li><a id="org5f138b3"></a><code>delta</code><br />
<div class="outline-text-5" id="text-3-8-2-1">
<p>
Increment between evenly spaced samples (\(\Delta t\) for timeseries, \(\Delta f\)
or \(\Delta\omega\) for spectra).
</p>
</div>
</li>

<li><a id="orgaf8a5d2"></a><code>b</code><br />
<div class="outline-text-5" id="text-3-8-2-2">
<p>
First value (<i>begin</i>) of independent variable (\(t_{0}\)).
</p>
</div>
</li>

<li><a id="orge055e01"></a><code>e</code><br />
<div class="outline-text-5" id="text-3-8-2-3">
<p>
Final value (<i>end</i>) of independent variable (\(t_{max}\)).
</p>
</div>
</li>

<li><a id="orgdbd61aa"></a><code>o</code><br />
<div class="outline-text-5" id="text-3-8-2-4">
<p>
Event <i>origin</i> time, in seconds relative to the reference time.
</p>
</div>
</li>

<li><a id="org2bfe1f7"></a><code>a</code><br />
<div class="outline-text-5" id="text-3-8-2-5">
<p>
Event first <i>arrival</i> time, in seconds relative to the reference time.
</p>
</div>
</li>

<li><a id="org2d5dcd4"></a><code>t(0--9)</code><br />
<div class="outline-text-5" id="text-3-8-2-6">
<p>
User defined <i>time</i> values, in seconds relative to the reference time.
</p>
</div>
</li>

<li><a id="org135915f"></a><code>f</code><br />
<div class="outline-text-5" id="text-3-8-2-7">
<p>
Event end (<i>fini</i>) time, in seconds relative to the reference time.
</p>
</div>
</li>

<li><a id="orgc696c0b"></a><code>stla</code><br />
<div class="outline-text-5" id="text-3-8-2-8">
<p>
Station latitude in decimal degrees, N/S&#x2013;positive/negative.
</p>

<p>
sac-format automatically enforces \(\mathrm{stla}\in[-90, 90]\).
</p>
</div>
</li>

<li><a id="orgd21d3a0"></a><code>stlo</code><br />
<div class="outline-text-5" id="text-3-8-2-9">
<p>
Station longitude in decimal degrees, E/W&#x2013;positive/negative.
</p>

<p>
sac-format automatically enforces \(\mathrm{stlo}\in[-180, 180]\).
</p>
</div>
</li>

<li><a id="orgf9f0571"></a><code>evla</code><br />
<div class="outline-text-5" id="text-3-8-2-10">
<p>
Event latitude in decimal degrees, N/S&#x2013;positive/negative.
</p>

<p>
sac-format automatically enforces \(\mathrm{evla}\in[-90, 90]\).
</p>
</div>
</li>

<li><a id="org2359ea0"></a><code>evlo</code><br />
<div class="outline-text-5" id="text-3-8-2-11">
<p>
Event longitude in decimal degrees, E/W&#x2013;positive/negative.
</p>

<p>
sac-format automatically enforces \(\mathrm{evlo}\in[-180, 180]\).
</p>
</div>
</li>

<li><a id="orgecd61b4"></a><code>sb</code><br />
<div class="outline-text-5" id="text-3-8-2-12">
<p>
Original (<i>saved</i>) <a href="#orgaf8a5d2"><code>b</code></a> value.
</p>
</div>
</li>

<li><a id="org461f48a"></a><code>sdelta</code><br />
<div class="outline-text-5" id="text-3-8-2-13">
<p>
Original (<i>saved</i>) <a href="#org5f138b3"><code>delta</code></a> value.
</p>
</div>
</li>
</ol>
</div>

<div id="outline-container-org606f194" class="outline-4">
<h4 id="org606f194"><span class="section-number-4">3.8.3.</span> Integer (26)</h4>
<div class="outline-text-4" id="text-3-8-3">
<p>
32-bit (1 word, 4 bytes)
</p>
</div>

<ol class="org-ol">
<li><a id="orgb23549a"></a><code>nzyear</code><br />
<div class="outline-text-5" id="text-3-8-3-1">
<p>
Reference time GMT year.
</p>
</div>
</li>

<li><a id="org3b455dc"></a><code>nzjday</code><br />
<div class="outline-text-5" id="text-3-8-3-2">
<p>
Reference time GMT day-of-year (often called <a href="https://en.wikipedia.org/wiki/Julian_day">Julian Date</a>) (1&#x2013;366).
</p>
</div>
</li>

<li><a id="orgcdd2ccf"></a><code>nzhour</code><br />
<div class="outline-text-5" id="text-3-8-3-3">
<p>
Reference time GMT hour (00&#x2013;23).
</p>
</div>
</li>

<li><a id="org360b12f"></a><code>nzmin</code><br />
<div class="outline-text-5" id="text-3-8-3-4">
<p>
Reference time GMT minute (0&#x2013;59).
</p>
</div>
</li>

<li><a id="orgeb0ac08"></a><code>nzsec</code><br />
<div class="outline-text-5" id="text-3-8-3-5">
<p>
Reference time GMT second (0&#x2013;59).
</p>
</div>
</li>

<li><a id="org1c68a9e"></a><code>nzmsec</code><br />
<div class="outline-text-5" id="text-3-8-3-6">
<p>
Reference time GMT Millisecond (0&#x2013;999).
</p>
</div>
</li>

<li><a id="orgc4e453e"></a><code>nvhdr</code><br />
<div class="outline-text-5" id="text-3-8-3-7">
<p>
SAC-file version.
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Version</th>
<th scope="col" class="org-left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left"><code>v7</code></td>
<td class="org-left">Footer (2020+, sac 102.0+)</td>
</tr>

<tr>
<td class="org-left"><code>v6</code></td>
<td class="org-left">No footer (pre-2020, sac 101.6a-)</td>
</tr>
</tbody>
</table>
</div>
</li>
<li><a id="org9ba6e10"></a><code>norid</code><br />
<div class="outline-text-5" id="text-3-8-3-8">
<p>
Origin ID.
</p>
</div>
</li>

<li><a id="orga5aa936"></a><code>nevid</code><br />
<div class="outline-text-5" id="text-3-8-3-9">
<p>
Event ID.
</p>
</div>
</li>

<li><a id="org89d4271"></a><code>npts</code><br />
<div class="outline-text-5" id="text-3-8-3-10">
<p>
<i>Number of points</i> in data.
</p>
</div>
</li>

<li><a id="orgbd137d6"></a><code>nsnpts</code><br />
<div class="outline-text-5" id="text-3-8-3-11">
<p>
Original (<i>saved</i>) <a href="#org89d4271"><code>npts</code></a>.
</p>
</div>
</li>

<li><a id="orgd6f442b"></a><code>nwfid</code><br />
<div class="outline-text-5" id="text-3-8-3-12">
<p>
Waveform ID.
</p>
</div>
</li>

<li><a id="orgc70798f"></a><code>nxsize</code><br />
<div class="outline-text-5" id="text-3-8-3-13">
<p>
Spectral-only equivalent of <a href="#org89d4271"><code>npts</code></a> (length of spectrum).
</p>
</div>
</li>

<li><a id="org3b29f3f"></a><code>nysize</code><br />
<div class="outline-text-5" id="text-3-8-3-14">
<p>
Spectral-only, width of spectrum.
</p>
</div>
</li>

<li><a id="orgcc7fc2c"></a><code>iftype</code><br />
<div class="outline-text-5" id="text-3-8-3-15">
<p>
File type.
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-right" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-right">Value</th>
<th scope="col" class="org-left">Type</th>
<th scope="col" class="org-left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-right">01</td>
<td class="org-left">ITIME</td>
<td class="org-left">Time-series</td>
</tr>

<tr>
<td class="org-right">02</td>
<td class="org-left">IRLIM</td>
<td class="org-left">Spectral (real/imaginary)</td>
</tr>

<tr>
<td class="org-right">03</td>
<td class="org-left">IAMPH</td>
<td class="org-left">Spectral (amplitude/phase)</td>
</tr>

<tr>
<td class="org-right">04</td>
<td class="org-left">IXY</td>
<td class="org-left">General XY file</td>
</tr>

<tr>
<td class="org-right">??</td>
<td class="org-left">IXYZ&lowast;</td>
<td class="org-left">General XYZ file</td>
</tr>
</tbody>
</table>
<p>
&lowast;Value not listed in the standard.
</p>
</div>
</li>

<li><a id="orgcbdae40"></a><code>idep</code><br />
<div class="outline-text-5" id="text-3-8-3-16">
<p>
Dependent variable type.
</p>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-right" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-right">Value</th>
<th scope="col" class="org-left">Type</th>
<th scope="col" class="org-left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-right">05</td>
<td class="org-left">IUNKN</td>
<td class="org-left">Unknown</td>
</tr>

<tr>
<td class="org-right">06</td>
<td class="org-left">IDISP</td>
<td class="org-left">Displacement (nm)</td>
</tr>

<tr>
<td class="org-right">07</td>
<td class="org-left">IVEL</td>
<td class="org-left">Velocity \(\mathrm{\left(\frac{nm}{s}\right)}\)</td>
</tr>

<tr>
<td class="org-right">08</td>
<td class="org-left">IACC</td>
<td class="org-left">Acceleration \(\mathrm{\left(\frac{nm}{s^{2}}\right)}\)</td>
</tr>

<tr>
<td class="org-right">50</td>
<td class="org-left">IVOLTS</td>
<td class="org-left">Velocity (volts)</td>
</tr>
</tbody>
</table>
</div>
</li>
<li><a id="orgecf8f18"></a><code>iztype</code><br />
<div class="outline-text-5" id="text-3-8-3-17">
<p>
Reference time equivalent.
</p>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-right" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-right">Value</th>
<th scope="col" class="org-left">Type</th>
<th scope="col" class="org-left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-right">05</td>
<td class="org-left">IUNKN</td>
<td class="org-left">Unknown</td>
</tr>

<tr>
<td class="org-right">09</td>
<td class="org-left">IB</td>
<td class="org-left">Recording start time</td>
</tr>

<tr>
<td class="org-right">10</td>
<td class="org-left">IDAY</td>
<td class="org-left">Midnight reference GMT day</td>
</tr>

<tr>
<td class="org-right">11</td>
<td class="org-left">IO</td>
<td class="org-left">Event origin time</td>
</tr>

<tr>
<td class="org-right">12</td>
<td class="org-left">IA</td>
<td class="org-left">First arrival time</td>
</tr>

<tr>
<td class="org-right">13&#x2013;22</td>
<td class="org-left">IT(0&#x2013;9)</td>
<td class="org-left">User defined time (t) pick</td>
</tr>
</tbody>
</table>
</div>
</li>
<li><a id="org116af40"></a><code>iinst</code><br />
<div class="outline-text-5" id="text-3-8-3-18">
<p>
Recording instrument type.
</p>

<p>
<b>Not used by SAC</b>&#x2014;free for other purposes.
</p>
</div>
</li>

<li><a id="org632474d"></a><code>istreg</code><br />
<div class="outline-text-5" id="text-3-8-3-19">
<p>
Station geographic region.
</p>

<p>
<b>Not used by SAC</b>&#x2014;free for other purposes.
</p>
</div>
</li>

<li><a id="org4198224"></a><code>ievreg</code><br />
<div class="outline-text-5" id="text-3-8-3-20">
<p>
Event geographic region.
</p>

<p>
<b>Not used by SAC</b>&#x2014;free for other purposes.
</p>
</div>
</li>

<li><a id="orge382689"></a><code>ievtyp</code><br />
<div class="outline-text-5" id="text-3-8-3-21">
<p>
Event type.
</p>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-right" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-right">Value</th>
<th scope="col" class="org-left">Type</th>
<th scope="col" class="org-left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-right">05</td>
<td class="org-left">IUNKN</td>
<td class="org-left">Unknown</td>
</tr>

<tr>
<td class="org-right">11</td>
<td class="org-left">IO</td>
<td class="org-left">Other source of known origin</td>
</tr>

<tr>
<td class="org-right">37</td>
<td class="org-left">INUCL</td>
<td class="org-left">Nuclear</td>
</tr>

<tr>
<td class="org-right">38</td>
<td class="org-left">IPREN</td>
<td class="org-left">Nuclear pre-shot</td>
</tr>

<tr>
<td class="org-right">39</td>
<td class="org-left">IPOSTN</td>
<td class="org-left">Nuclear post-shot</td>
</tr>

<tr>
<td class="org-right">40</td>
<td class="org-left">IQUAKE</td>
<td class="org-left">Earthquake</td>
</tr>

<tr>
<td class="org-right">41</td>
<td class="org-left">IPREQ</td>
<td class="org-left">Foreshock</td>
</tr>

<tr>
<td class="org-right">42</td>
<td class="org-left">IPOSTQ</td>
<td class="org-left">Aftershock</td>
</tr>

<tr>
<td class="org-right">43</td>
<td class="org-left">ICHEM</td>
<td class="org-left">Chemical explosion</td>
</tr>

<tr>
<td class="org-right">44</td>
<td class="org-left">IOTHER</td>
<td class="org-left">Other</td>
</tr>

<tr>
<td class="org-right">72</td>
<td class="org-left">IQB</td>
<td class="org-left">Quarry/mine blast&#x2014;confirmed by quarry/mine</td>
</tr>

<tr>
<td class="org-right">73</td>
<td class="org-left">IQB1</td>
<td class="org-left">Quarry/mine blast&#x2014;designed shot info-ripple fired</td>
</tr>

<tr>
<td class="org-right">74</td>
<td class="org-left">IQB2</td>
<td class="org-left">Quarry/mine blast&#x2014;observed shot info-ripple fired</td>
</tr>

<tr>
<td class="org-right">75</td>
<td class="org-left">IQBX</td>
<td class="org-left">Quarry/mine blast&#x2014;single shot</td>
</tr>

<tr>
<td class="org-right">76</td>
<td class="org-left">IQMT</td>
<td class="org-left">Quarry/mining induced events&#x2014;tremor and rockbursts</td>
</tr>

<tr>
<td class="org-right">77</td>
<td class="org-left">IEQ</td>
<td class="org-left">Earthquake</td>
</tr>

<tr>
<td class="org-right">78</td>
<td class="org-left">IEQ1</td>
<td class="org-left">Earthquake in a swarm or in an aftershock sequence</td>
</tr>

<tr>
<td class="org-right">79</td>
<td class="org-left">IEQ2</td>
<td class="org-left">Felt earthquake</td>
</tr>

<tr>
<td class="org-right">80</td>
<td class="org-left">IME</td>
<td class="org-left">Marine explosion</td>
</tr>

<tr>
<td class="org-right">81</td>
<td class="org-left">IEX</td>
<td class="org-left">Other explosion</td>
</tr>

<tr>
<td class="org-right">82</td>
<td class="org-left">INU</td>
<td class="org-left">Nuclear explosion</td>
</tr>

<tr>
<td class="org-right">83</td>
<td class="org-left">INC</td>
<td class="org-left">Nuclear cavity collapse</td>
</tr>

<tr>
<td class="org-right">85</td>
<td class="org-left">IL</td>
<td class="org-left">Local event of unknown origin</td>
</tr>

<tr>
<td class="org-right">86</td>
<td class="org-left">IR</td>
<td class="org-left">Region event of unknown origin</td>
</tr>

<tr>
<td class="org-right">87</td>
<td class="org-left">IT</td>
<td class="org-left">Teleseismic event of unknown origin</td>
</tr>

<tr>
<td class="org-right">88</td>
<td class="org-left">IU</td>
<td class="org-left">Undetermined/conflicting information</td>
</tr>
</tbody>
</table>
</div>
</li>
<li><a id="orgef8f4c4"></a><code>iqual</code><br />
<div class="outline-text-5" id="text-3-8-3-22">
<p>
Quality of data.
</p>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-right" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-right">Value</th>
<th scope="col" class="org-left">Type</th>
<th scope="col" class="org-left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-right">44</td>
<td class="org-left">IOTHER</td>
<td class="org-left">Other</td>
</tr>

<tr>
<td class="org-right">45</td>
<td class="org-left">IGOOD</td>
<td class="org-left">Good</td>
</tr>

<tr>
<td class="org-right">46</td>
<td class="org-left">IGLCH</td>
<td class="org-left">Glitches</td>
</tr>

<tr>
<td class="org-right">47</td>
<td class="org-left">IDROP</td>
<td class="org-left">Dropouts</td>
</tr>

<tr>
<td class="org-right">48</td>
<td class="org-left">ILOWSN</td>
<td class="org-left">Low signal-to-noise ratio</td>
</tr>
</tbody>
</table>
<p>
<b>Not used by SAC</b>&#x2014;free for other purposes.
</p>
</div>
</li>

<li><a id="orgb1e2ebe"></a><code>isynth</code><br />
<div class="outline-text-5" id="text-3-8-3-23">
<p>
Synthetic data flag.
</p>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Value</th>
<th scope="col" class="org-left">Type</th>
<th scope="col" class="org-left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">49</td>
<td class="org-left">IRLDATA</td>
<td class="org-left">Real data</td>
</tr>

<tr>
<td class="org-left">XX</td>
<td class="org-left">&lowast;</td>
<td class="org-left">Synthetic</td>
</tr>
</tbody>
</table>
<p>
&lowast;Values and types not listed in the standard.
</p>
</div>
</li>

<li><a id="orgb9371e7"></a><code>imagtyp</code><br />
<div class="outline-text-5" id="text-3-8-3-24">
<p>
Magnitude type.
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-right" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-right">Value</th>
<th scope="col" class="org-left">Type</th>
<th scope="col" class="org-left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-right">52</td>
<td class="org-left">IMB</td>
<td class="org-left">Body-wave magnitude (\(M_{b}\))</td>
</tr>

<tr>
<td class="org-right">53</td>
<td class="org-left">IMS</td>
<td class="org-left">Surface-wave magnitude (\(M_{s}\))</td>
</tr>

<tr>
<td class="org-right">54</td>
<td class="org-left">IML</td>
<td class="org-left">Local magnitude (\(M_{l}\))</td>
</tr>

<tr>
<td class="org-right">55</td>
<td class="org-left">IMW</td>
<td class="org-left">Moment magnitude (\(M_{w}\))</td>
</tr>

<tr>
<td class="org-right">56</td>
<td class="org-left">IMD</td>
<td class="org-left">Duration magnitude (\(M_{d}\))</td>
</tr>

<tr>
<td class="org-right">57</td>
<td class="org-left">IMX</td>
<td class="org-left">User-defined magnitude (\(M_{x}\))</td>
</tr>
</tbody>
</table>
</div>
</li>
<li><a id="org11f5d64"></a><code>imagsrc</code><br />
<div class="outline-text-5" id="text-3-8-3-25">
<p>
Source of magnitude information.
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-right" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-right">Value</th>
<th scope="col" class="org-left">Type</th>
<th scope="col" class="org-left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-right">58</td>
<td class="org-left">INEIC</td>
<td class="org-left">National Earthquake Information Center</td>
</tr>

<tr>
<td class="org-right">61</td>
<td class="org-left">IPDE</td>
<td class="org-left">Preliminary Determination of Epicenter</td>
</tr>

<tr>
<td class="org-right">62</td>
<td class="org-left">IISC</td>
<td class="org-left">Internation Seismological Centre</td>
</tr>

<tr>
<td class="org-right">63</td>
<td class="org-left">IREB</td>
<td class="org-left">Reviewed Event Bulletin</td>
</tr>

<tr>
<td class="org-right">64</td>
<td class="org-left">IUSGS</td>
<td class="org-left">U.S. Geological Survey</td>
</tr>

<tr>
<td class="org-right">65</td>
<td class="org-left">IBRK</td>
<td class="org-left">UC Berkeley</td>
</tr>

<tr>
<td class="org-right">66</td>
<td class="org-left">ICALTECH</td>
<td class="org-left">California Institute of Technology</td>
</tr>

<tr>
<td class="org-right">67</td>
<td class="org-left">ILLNL</td>
<td class="org-left">Lawrence Livermore National Laboratory</td>
</tr>

<tr>
<td class="org-right">68</td>
<td class="org-left">IEVLOC</td>
<td class="org-left">Event location (computer program)</td>
</tr>

<tr>
<td class="org-right">69</td>
<td class="org-left">IJSOP</td>
<td class="org-left">Joint Seismic Observation Program</td>
</tr>

<tr>
<td class="org-right">70</td>
<td class="org-left">IUSER</td>
<td class="org-left">The user</td>
</tr>

<tr>
<td class="org-right">71</td>
<td class="org-left">IUNKNOWN</td>
<td class="org-left">Unknown</td>
</tr>
</tbody>
</table>
</div>
</li>
<li><a id="org45eaf83"></a><code>ibody</code><br />
<div class="outline-text-5" id="text-3-8-3-26">
<p>
Body/spheroid definition used to calculate distances.
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-right" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-right" />

<col  class="org-right" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-right">Value</th>
<th scope="col" class="org-left">Type</th>
<th scope="col" class="org-left">Name</th>
<th scope="col" class="org-right">Semi-major axis (a [m])</th>
<th scope="col" class="org-right">Inverse Flattening (<i>f</i>)</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-right">-12345</td>
<td class="org-left">UNDEF</td>
<td class="org-left">Earth (<i>Historic</i>)</td>
<td class="org-right">6378160.0</td>
<td class="org-right">0.00335293</td>
</tr>

<tr>
<td class="org-right">98</td>
<td class="org-left">ISUN</td>
<td class="org-left">Sun</td>
<td class="org-right">696000000.0</td>
<td class="org-right">8.189e-6</td>
</tr>

<tr>
<td class="org-right">99</td>
<td class="org-left">IMERCURY</td>
<td class="org-left">Mercury</td>
<td class="org-right">2439700.0</td>
<td class="org-right">0.0</td>
</tr>

<tr>
<td class="org-right">100</td>
<td class="org-left">IVENUS</td>
<td class="org-left">Venus</td>
<td class="org-right">6051800.0</td>
<td class="org-right">0.0</td>
</tr>

<tr>
<td class="org-right">101</td>
<td class="org-left">IEARTH</td>
<td class="org-left">Earth (<i>WGS84</i>)</td>
<td class="org-right">6378137.0</td>
<td class="org-right">0.0033528106647474805</td>
</tr>

<tr>
<td class="org-right">102</td>
<td class="org-left">IMOON</td>
<td class="org-left">Moon</td>
<td class="org-right">1737400.0</td>
<td class="org-right">0.0</td>
</tr>

<tr>
<td class="org-right">103</td>
<td class="org-left">IMARS</td>
<td class="org-left">Mars</td>
<td class="org-right">3396190.0</td>
<td class="org-right">0.005886007555525457</td>
</tr>
</tbody>
</table>
</div>
</li>
</ol>
</div>
<div id="outline-container-orgaf0982c" class="outline-4">
<h4 id="orgaf0982c"><span class="section-number-4">3.8.4.</span> Boolean (4)</h4>
<div class="outline-text-4" id="text-3-8-4">
<p>
32-bit (1 word, 4 bytes) in-file/8-bit (1 byte) in-memory
</p>
</div>

<ol class="org-ol">
<li><a id="org1888e9a"></a><code>leven</code><br />
<div class="outline-text-5" id="text-3-8-4-1">
<p>
<b>REQUIRED</b>
</p>

<p>
Evenly-spaced data flag.
</p>

<p>
If true, then data is evenly spaced.
</p>
</div>
</li>

<li><a id="orgeaffc6b"></a><code>lpspol</code><br />
<div class="outline-text-5" id="text-3-8-4-2">
<p>
Station polarity flag.
</p>

<p>
If true, then station has positive-polarity&#x2014;it follows the left-hand
convention (for example, North-East-Up [NEZ]).
</p>
</div>
</li>

<li><a id="org30d9528"></a><code>lovrok</code><br />
<div class="outline-text-5" id="text-3-8-4-3">
<p>
File overwrite flag.
</p>

<p>
If true, then it&rsquo;s okay to overwrite the file.
</p>
</div>
</li>

<li><a id="orgdc75b62"></a><code>lcalda</code><br />
<div class="outline-text-5" id="text-3-8-4-4">
<p>
Calculate geometry flag.
</p>

<p>
If true, then calculate <a href="#org88a0b55"><code>dist</code></a>, <a href="#org9b84703"><code>az</code></a>, <a href="#org35ee5f0"><code>baz</code></a>, and <a href="#orgae8c07f"><code>gcarc</code></a> from <a href="#orgc696c0b"><code>stla</code></a>, <a href="#orgd21d3a0"><code>stlo</code></a>,
<a href="#orgf9f0571"><code>evla</code></a>, and <a href="#org2359ea0"><code>evlo</code></a>.
</p>
</div>
</li>
</ol>
</div>

<div id="outline-container-orgf8ab87a" class="outline-4">
<h4 id="orgf8ab87a"><span class="section-number-4">3.8.5.</span> String (23)</h4>
<div class="outline-text-4" id="text-3-8-5">
<p>
32/64-bit (2/4 words, 8/16 bytes, 8/16 characters)
</p>
</div>

<ol class="org-ol">
<li><a id="org9004032"></a><code>kstnm</code><br />
<div class="outline-text-5" id="text-3-8-5-1">
<p>
Station name.
</p>
</div>
</li>

<li><a id="org66507e3"></a><code>kevnm</code>&lowast;<br />
<div class="outline-text-5" id="text-3-8-5-2">
<p>
Event name.
</p>

<p>
&lowast;This is the <b>only</b> four word (16 character) string.
</p>
</div>
</li>

<li><a id="orgc854337"></a><code>khole</code><br />
<div class="outline-text-5" id="text-3-8-5-3">
<p>
Nuclear&#x2014;hole identifier.
</p>

<p>
Other&#x2014;Location identifier (LOCID).
</p>
</div>
</li>

<li><a id="orgf56877e"></a><code>ko</code><br />
<div class="outline-text-5" id="text-3-8-5-4">
<p>
Text for <a href="#orgdbd61aa"><code>o</code></a>.
</p>
</div>
</li>

<li><a id="org1e91a86"></a><code>ka</code><br />
<div class="outline-text-5" id="text-3-8-5-5">
<p>
Text for <a href="#org2bfe1f7"><code>a</code></a>.
</p>
</div>
</li>

<li><a id="orgc1657e4"></a><code>kt(0--9)</code><br />
<div class="outline-text-5" id="text-3-8-5-6">
<p>
Text for <a href="#org2d5dcd4"><code>t(0--9)</code></a>.
</p>
</div>
</li>

<li><a id="orgf399f53"></a><code>kf</code><br />
<div class="outline-text-5" id="text-3-8-5-7">
<p>
Text for <a href="#org135915f"><code>f</code></a>.
</p>
</div>
</li>

<li><a id="org5a53572"></a><code>kuser(0--2)</code><br />
<div class="outline-text-5" id="text-3-8-5-8">
<p>
Text for the first three of <a href="#org2683747"><code>user(0--9)</code></a>.
</p>
</div>
</li>

<li><a id="org8080be2"></a><code>kdatrd</code><br />
<div class="outline-text-5" id="text-3-8-5-9">
<p>
Date the data was read onto a computer.
</p>
</div>
</li>

<li><a id="org0aa6f5c"></a><code>kinst</code><br />
<div class="outline-text-5" id="text-3-8-5-10">
<p>
Text for <a href="#org116af40"><code>iinst</code></a>.
</p>
</div>
</li>
</ol>
</div>

<div id="outline-container-org4f48cc5" class="outline-4">
<h4 id="org4f48cc5"><span class="section-number-4">3.8.6.</span> Data (2)</h4>
<div class="outline-text-4" id="text-3-8-6">
<p>
32-bit (2 words, 8 bytes) in-file/64-bit (4 words, 16 bytes) in-memory
</p>

<p>
Stored as floating-point (32-bit) values in SAC-files; stored as
double-precision in memory.
</p>
</div>

<ol class="org-ol">
<li><a id="orgb5642bb"></a><code>data1</code><br />
<div class="outline-text-5" id="text-3-8-6-1">
<p>
The first data vector---<b>always</b> present in a SAC-file and begins at word 158.
</p>
</div>
</li>

<li><a id="org9db3d96"></a><code>data2</code><br />
<div class="outline-text-5" id="text-3-8-6-2">
<p>
The second data vector---<b>conditionally</b> present and begins after <a href="#orgb5642bb"><code>data1</code></a>.
</p>

<p>
<b>Required</b> if <a href="#org1888e9a"><code>leven</code></a> is false, or if <a href="#orgcc7fc2c"><code>iftype</code></a> is spectral/XY/XYZ.
</p>
</div>
</li>
</ol>
</div>
</div>
</div>

<div id="outline-container-orgc58d0ee" class="outline-2">
<h2 id="orgc58d0ee"><span class="section-number-2">4.</span> Notes</h2>
<div class="outline-text-2" id="text-4">
</div>
<div id="outline-container-org9493a72" class="outline-3">
<h3 id="org9493a72"><span class="section-number-3">4.1.</span> Why C++20 and not C++23</h3>
<div class="outline-text-3" id="text-4-1">
<p>
Compiler restrictions&#x2014;C++23 support <a href="https://en.cppreference.com/w/cpp/compiler_support/23">requires</a> GCC-13+ and Clang-16+. Many
systems, still use GCC-12 and Clang-15&#x2014;which has near complete support for
<a href="https://en.cppreference.com/w/cpp/compiler_support/20">C++20</a>.
</p>

<p>
sac-format strives for accessibility, modernity, safety, and speed&#x2014;C++20
provides the best fit.
</p>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Author: Alexander R. Blanchette</p>
<p class="email">Email: <a href="mailto:arbCoding@gmail.com">arbCoding@gmail.com</a></p>
<p class="validation"><a href="https://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>